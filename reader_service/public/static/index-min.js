"undefined"==typeof Promise&&function(){function e(t){var i=this,n=i.then=function(){return e.prototype.then.apply(i,arguments)};function s(t,e){n.state="pending",n[t].length?setTimeout(function(){s(t,n.value=n[t].shift().call(i,e))},0):n.state=t}return n.fulfilled=[],n.rejected=[],n.fulfill=function(t){s("fulfilled",t)},n.reject=function(t){s("rejected",t)},t.call(i,n.fulfill,n.reject),i}e.prototype={constructor:e,then:function(t,e){return t&&this.then.fulfilled.push(t),e&&this.then.rejected.push(e),"fulfilled"===this.then.state&&this.then.fulfill(this.then.value),this},catch:function(t){return t&&this.then.rejected.push(t),this}},e.all=function(){var i=Array.prototype.slice.call(arguments),s=i.length;function n(i,n,e){i.then(function t(e){return 1<i.then.fulfilled.length?i.then(t):--s||n(e),e},function(t){e(t)})}return new e(function(t,e){for(;i.length;)n(i.shift(),t,e)})},window.Promise=e}(),Function.prototype.bind||(Function.prototype.bind=function(t){function e(){}function i(){return n.apply(this instanceof e&&t?this:t,s.concat(Array.prototype.slice.call(arguments,0)))}var n=this,s=Array.prototype.slice.call(arguments,1);return e.prototype=i.prototype=n.prototype,i}),void 0!==window.atob&&void 0!==window.btoa||function(){var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=new RegExp("[^"+l+"]");Window.prototype.atob=function(t){var e,i,n,s,r=[],o=0,a=t.length;if(0<a%4||h.test(t)||/=/.test(t)&&(/=[^=]/.test(t)||/={3}/.test(t)))throw new Error("Invalid base64 data");for(;o<a;){for(i=[],s=o;o<s+4;)i.push(l.indexOf(t.charAt(o++)));for(n=[((e=(i[0]<<18)+(i[1]<<12)+((63&i[2])<<6)+(63&i[3]))&255<<16)>>16,64===i[2]?-1:(65280&e)>>8,64===i[3]?-1:255&e],s=0;s<3;++s)(0<=n[s]||0===s)&&r.push(String.fromCharCode(n[s]))}return r.join("")},Window.prototype.btoa=function(t){for(var e,i,n=[],s=0,r=t.length;s<r;)e=((i=[t.charCodeAt(s++),t.charCodeAt(s++),t.charCodeAt(s++)])[0]<<16)+((i[1]||0)<<8)+(i[2]||0),n.push(l.charAt((e&63<<18)>>18),l.charAt((258048&e)>>12),l.charAt(isNaN(i[1])?64:(4032&e)>>6),l.charAt(isNaN(i[2])?64:63&e));return n.join("")}}(),function(c){var p,d={NOT_RESOLVED:"NOT_RESOLVED",IN_RESOLVING:"IN_RESOLVING",RESOLVED:"RESOLVED"},i=function(){var r={trackCircularDependencies:!0,allowMultipleDeclarations:!0},u={},e=!1,s=[],o=function(){e=!1,t()},t=function(){var t,e=s,i=0;for(s=[];t=e[i++];)a(null,t.deps,[],t.cb)},a=function(t,e,i,r){var o=e.length;o||r([]);function n(t,e){if(e)r(null,e);else if(!--o){for(var i,n=[],s=0;i=l[s++];)n.push(i.exports);r(n)}}for(var s,a,l=[],h=0,c=o;h<c;){if("string"==typeof(s=e[h++])){if(!u[s])return void r(null,g(s,t));a=u[s].decl}else a=s;l.push(a),f(a,i,n)}},f=function(i,t,n){var s,e;i.state!==d.RESOLVED?i.state!==d.IN_RESOLVING?(i.dependents.push(n),!i.prev||r.allowMultipleDeclarations?(r.trackCircularDependencies&&(t=t.slice()).push(i),s=!1,e=i.prev?i.deps.concat([i.prev]):i.deps,i.state=d.IN_RESOLVING,a(i,e,t,function(t,e){e?h(i,e):(t.unshift(function(t,e){s?n(null,v(i)):(s=!0,e?h(i,e):l(i,t))}),i.fn.apply({name:i.name,deps:i.deps,global:c},t))})):h(i,y(i))):r.trackCircularDependencies&&b(i,t)?n(null,m(i,t)):i.dependents.push(n):n(i.exports)},l=function(t,e){t.exports=e,t.state=d.RESOLVED;for(var i,n=0;i=t.dependents[n++];)i(e);t.dependents=p},h=function(t,e){t.state=d.NOT_RESOLVED;for(var i,n=0;i=t.dependents[n++];)i(null,e);t.dependents=[]};return{create:i,define:function(t,e,i){i||(i=e,e=[]);var n=u[t];(n=n||(u[t]={name:t,decl:p})).decl={name:t,prev:n.decl,fn:i,state:d.NOT_RESOLVED,deps:e,dependents:[],exports:p}},require:function(t,i,n){"string"==typeof t&&(t=[t]),e||(e=!0,w(o)),s.push({deps:t,cb:function(t,e){e?(n||_)(e):i.apply(c,t)}})},getState:function(t){var e=u[t];return e?d[e.decl.state]:"NOT_DEFINED"},isDefined:function(t){return!!u[t]},setOptions:function(t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])},getStat:function(){var t,e={};for(var i in u)u.hasOwnProperty(i)&&(e[(t=u[i]).decl.state]||(e[t.decl.state]=[])).push(i);return e}}},_=function(t){w(function(){throw t})},g=function(t,e){return Error(e?'Module "'+e.name+'": can\'t resolve dependence "'+t+'"':'Required module "'+t+"\" can't be resolved")},m=function(t,e){for(var i,n=[],s=0;i=e[s++];)n.push(i.name);return n.push(t.name),Error('Circular dependence has been detected: "'+n.join(" -> ")+'"')},v=function(t){return Error('Declaration of module "'+t.name+'" has already been provided')},y=function(t){return Error('Multiple declarations of module "'+t.name+'" have been detected')},b=function(t,e){for(var i,n=0;i=e[n++];)if(t===i)return!0;return!1},w=function(){function i(t){return 1===s.push(t)}function n(){var t=s,e=0,i=s.length;for(s=[];e<i;)t[e++]()}var s=[];if("object"==typeof process&&process.nextTick)return function(t){i(t)&&process.nextTick(n)};if(c.setImmediate)return function(t){i(t)&&c.setImmediate(n)};if(c.postMessage&&!c.opera){var t,e=!0;if(c.attachEvent&&(t=function(){e=!1},c.attachEvent("onmessage",t),c.postMessage("__checkAsync","*"),c.detachEvent("onmessage",t)),e){function r(t){t.data===o&&(t.stopPropagation&&t.stopPropagation(),n())}var o="__modules"+ +new Date;return c.addEventListener?c.addEventListener("message",r,!0):c.attachEvent("onmessage",r),function(t){i(t)&&c.postMessage(o,"*")}}}var a=c.document;if("onreadystatechange"in a.createElement("script")){var l=a.getElementsByTagName("head")[0];return function(t){var e;i(t)&&((e=a.createElement("script")).onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,n()},l.appendChild(e))}}return function(t){i(t)&&setTimeout(n,0)}}();"object"==typeof exports?module.exports=i():c.modules=i()}(this),modules.define("y-block",["inherit","y-event-emitter","y-event-manager","y-block-event","jquery","vow","bt","y-extend"],function(t,e,i,n,s,d,_,r,o){var a=e(i,{__constructor:function(t,e){null===t||t instanceof d||(e=t,t=null),t||(e=e||{},t=this._createDomElement(e)),e?e.__complete||(e=o(e,this.__self._getDomNodeOptions(t).options||{})):e=this.__self._getDomNodeOptions(t).options||{},t.addClass(this.__self._autoInitCssClass),(this.__self._getDomNodeDataStorage(t).block=this)._initOptions=e,this._node=t,this._eventManager=new n(this),this._stateCache=null,this.__self._liveInitIfRequired(),this._cachedViewName=null},destruct:function(){var t;if(this._node&&(t=this.__self._getDomNodeDataStorage(this._node)),!t||!t.block)throw new Error("Block `"+this.__self.getBlockName()+"` was already destroyed");delete t.block,this.__self.destructDomTree(this.getDomNode()),this.offAll(),this._eventManager.unbindAll(),this._eventManager=null,this._node.remove(),this._node=null,this._initOptions=null,this._stateCache=null},getDomNode:function(){return this._node},_bindTo:function(t,e,i){return this._eventManager.bindTo(t,e,i),this},_unbindFrom:function(t,e,i){return this._eventManager.unbindFrom(t,e,i),this},emit:function(t,e){var i;return"string"==typeof t&&(t=new s(t)),t.data=e,(t.target=this).__base(t.type,t),t.isPropagationStopped()||(i=d.Event(this.__self._getPropagationEventName(t.type)),t._jqEvent=i,this.getDomNode()&&this.getDomNode().trigger(i,t)),this},getView:function(){var t;return null===this._cachedViewName&&(t=this.getDomNode().attr("class"),this._cachedViewName=t?t.split(" ").shift().split("_")[1]:void 0),this._cachedViewName},_setState:function(t,e){1===arguments.length&&(e=!0),e=h(e);var i=this.getDomNode();this._stateCache||(this._stateCache=this._parseStateCssClasses(i));var n=this._stateCache[t]||!1;return e!==n&&(this._stateCache[t]=e,n&&i.removeClass("_"+t+(!0===n?"":"_"+n)),e&&i.addClass("_"+t+(!0===e?"":"_"+e))),this},_removeState:function(t){return this._setState(t,!1)},_getState:function(t){return this._stateCache||(this._stateCache=this._parseStateCssClasses(this.getDomNode())),this._stateCache[t]||!1},_toggleState:function(t,e,i){e=h(e),i=h(i);var n=this._getState(t);return n===e?this._setState(t,i):n===i&&this._setState(t,e),this},_setElementState:function(t,e,i){if(!t)throw new Error("`domNode` should be specified for `_setElementState` method.");t=d(t),2===arguments.length&&(i=!0),i=h(i);var n=this._parseStateCssClasses(t)[e];return n&&t.removeClass("_"+e+(!0===n?"":"_"+n)),i&&t.addClass("_"+e+(!0===i?"":"_"+i)),this},_removeElementState:function(t,e){return this._setElementState(t,e,!1)},_getElementState:function(t,e){if(t)return t=d(t),this._parseStateCssClasses(t)[e]||!1;throw new Error("`domNode` should be specified for `_getElementState` method.")},_toggleElementState:function(t,e,i,n){i=h(i),n=h(n);var s=this._getElementState(t,e);return s===i?this._setElementState(t,e,n):s===n&&this._setElementState(t,e,i),this},_findElement:function(t,e){return this._findAllElements(t,e)[0]},_findAllElements:function(t,e){e=e?d(e):this.getDomNode();for(var i=this.getView(),n=e.find("."+this.__self.getBlockName()+(i?"_"+i:"")+"__"+t),s=[],r=n.length,o=0;o<r;o++)s.push(d(n[o]));return s},_findAllParentElements:function(t,e){if(e){e=d(e);for(var i=this.getView(),n=e.parents("."+this.__self.getBlockName()+(i?"_"+i:"")+"__"+t),s=[],r=n.length,o=0;o<r;o++)s.push(d(n[o]));return s}throw new Error("`childElement` should be specified for `_findAllParentElements` method.")},_findParentElement:function(t,e){if(e)return this._findAllParentElements(t,e)[0];throw new Error("`childElement` should be specified for `_findParentElement` method.")},_getOptions:function(){return this._initOptions},_getElementOptions:function(t){if(t){if(t=d(t),this._getElementName(t))return this.__self._getDomNodeOptions(t).options||{};throw new Error("Unable to get BEM Element name from DOM Node.")}throw new Error("`domNode` should be specified for `_getElementOptions` method.")},_createDomElement:function(t){return d(r.apply(o({},t,{block:this.__self.getBlockName()})))},_parseStateCssClasses:function(t){var e={},i=t.attr("class");if(i)for(var n,s=i.split(" "),r=s.length-1;0<=r;r--){"_"===s[r].charAt(0)&&(2===(n=s[r].substr(1).split("_")).length?e[n[0]]=n[1]:e[n[0]]=!0)}return e},_getElementName:function(t){var e=this.getView(),i=(t[0].className||"").match(new RegExp(this.__self.getBlockName()+(e?"_"+e:"")+"__([a-zA-Z0-9-]+)(?:\\s|$)"));return i?i[1]:null}},{getBlockName:function(){return"y-block"},fromDomNode:function(t,e){if(!t)throw new Error("`domNode` should be specified for `findDomNode` method");var i=this.getBlockName();if(!(t=d(t)).length)throw new Error('Cannot initialize "'+i+'" from empty jQuery object');var n=this._getDomNodeDataStorage(t).block;return n||(void 0===e&&(e=this._getDomNodeOptions(t).options||{}),e.__complete=!0,n=new this(t,e)),n},initOnDomNode:function(t,e){var i;if(this._liveInit){if(this._liveInitIfRequired(),i=!1,this._instantInitHandlers)for(var n=0,s=this._instantInitHandlers.length;n<s;n++)if(this._instantInitHandlers[n](e,t)){i=!0;break}}else i=!0;return i?(t=d(t),this.fromDomNode(t,e)):null},_liveInitIfRequired:function(){var t=this.getBlockName();!this._liveInit||this._liveInitialized&&this._liveInitialized[t]||(this._liveInit(),(this._liveInitialized=this._liveInitialized||{})[t]=!0)},_liveInit:null,_instantInitIf:function(t){this._instantInitHandlers||(this._instantInitHandlers=[]),this._instantInitHandlers.push(t)},_liveBind:function(t,e){var i=this;this._getLiveEventsScopeElement().on(t,'[data-block="'+this.getBlockName()+'"]',function(t){e.call(i.fromDomNode(t.currentTarget),t)})},_liveBindToElement:function(t,e,i){var n=this,s=this.getBlockName(),r=['[class^="'+s+'_"][class$="__'+t+'"]','[class^="'+s+'_"][class*="__'+t+' "]'];this._getLiveEventsScopeElement().on(e,r.join(", "),function(t){i.call(n.fromDomNode(d(t.currentTarget).closest('[data-block="'+s+'"]')),t)})},_getLiveEventsScopeElement:function(){return d(document.body)},find:function(t){return this.findAll(t)[0]},findAll:function(t){if(!t)throw new Error("`parentElement` should be specified for `findAll` method");var e=(t=this._getDomNodeFrom(t)).find("[data-block="+this.getBlockName()+"]");if(e.length){for(var i=[],n=e.length,s=0;s<n;s++){var r=d(e[s]);i.push(this.fromDomNode(r))}return i}return[]},initDomTree:function(t){if(!t)throw new Error("`domNode` should be specified for `initDomTree` method");t=this._getDomNodeFrom(t);var e="."+this._autoInitCssClass,l={},i=t.find(e);t.is(e)&&Array.prototype.unshift.call(i,t);for(var h=[],n=i.length,s=0;s<n;s++){var r=d(i[s]),o=this._getDomNodeOptions(r)||{},a=r.attr("data-block");if(a){h.push({node:r,className:a,options:o.options||{},isMixin:!1}),l[a]=null;var c=o.mixins;if(c)for(var u=0,f=c.length;u<f;u++){var p=c[u];p&&p.name&&(h.push({node:r,className:p.name,blockName:a,options:p,isMixin:!0}),l[p.name]=null)}}}return _.fulfill().then(function(){return _.all(Object.keys(l).map(function(t){return e=t,i=_.defer(),modules.isDefined(e)?(modules.require([e],function(t){l[e]=t,i.resolve()}),i.promise()):null;var e,i})).then(function(){for(var t=h.length,e=0;e<t;e++){var i,n=h[e],s=n.node,r=n.className,o=n.options,a=l[r];if(a)try{n.isMixin?(i=l[n.blockName])&&a.fromBlock(i.fromDomNode(s),o):a.initOnDomNode(s,o)}catch(t){throw t.message=r+" init error: "+t.message,t}}})})},destructDomTree:function(t){if(!t)throw new Error("`domNode` should be specified for `destructDomTree` method");t=this._getDomNodeFrom(t);var e="."+this._autoInitCssClass+",."+this._delegateEventsCssClass,i=t.find(e);t.is(e)&&Array.prototype.unshift.call(i,t);for(var n=0;n<i.length;n++){var s=d(i[n]),r=this._getDomNodeDataStorage(s,!0);if(r){r.block&&r.block.destruct();var o,a=r.blockEvents;for(o in a)a.hasOwnProperty(o)&&a[o].offAll();r.blockEvents={}}}},getEmitter:function(t){t=this._getDomNodeFrom(t);var e=this._getDomNodeDataStorage(t),i=this.getBlockName(),n=e.blockEvents[i];return n||(t.addClass(this._delegateEventsCssClass),n=new l(this,t),e.blockEvents[i]=n),n},_getDomNodeFrom:function(t){if(!t)throw new Error("jQuery element, DOM Element or YBlock instance should be specified");return t instanceof a&&(t=t.getDomNode()),t=d(t)},_getDomNodeOptions:function(t){var e=t.attr("data-options");return e?JSON.parse(e):{}},_getDomNodeDataStorage:function(t,e){var i=t.data("y-block");return i||e||(i={blockEvents:{}},t.data("y-block",i)),i},_getPropagationEventName:function(t){return"y-block/"+this.getBlockName()+"/"+t},_autoInitCssClass:"_init",_delegateEventsCssClass:"_live-events"}),l=e(i,{__constructor:function(t,e){this._blockClass=t,this._domNode=e,this._listeners={}},_onAddEvent:function(i){var n=this;function t(t,e){n.emit(i,e),e.isPropagationStopped()&&t.stopPropagation()}var e=this._blockClass._getPropagationEventName(i);this._domNode.on(e,t),this._listeners[i]=t},_onRemoveEvent:function(t){var e=this._blockClass._getPropagationEventName(t);this._domNode.off(e,this._listeners[t]),delete this._listeners[t]}});function h(t){return"string"==typeof t?""===t&&(t=!1):t=("number"==typeof t?String:Boolean)(t),t}t(a)}),function(t){var l=-1<function(){}.toString().indexOf("_"),h=function(){},n=Object.prototype.hasOwnProperty,c=Object.create||function(t){function e(){}return e.prototype=t,new e},u=Object.keys||function(t){var e=[];for(var i in t)n.call(t,i)&&e.push(i);return e},f=function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);return t},e=Object.prototype.toString,p=Array.isArray||function(t){return"[object Array]"===e.call(t)},d=function(t){return"[object Function]"===e.call(t)},_=function(){},g=!0,i={toString:""};for(var s in i)i.hasOwnProperty(s)&&(g=!1);var m=g?["toString","valueOf"]:null;function v(t,e,i){for(var s,n,r=function(t){var e=u(t);if(g)for(var i,n=0;i=m[n++];)t.hasOwnProperty(i)&&e.push(i);return e}(i),o=0,a=r.length;o<a;)"__self"!==(s=r[o++])&&(n=i[s],d(n)&&(!l||-1<n.toString().indexOf(".__base"))?e[s]=function(i){var n=t[s]?t[s]:"__constructor"===s?e.__self.__parent:_;return function(){var t=this.__base;this.__base=n;var e=i.apply(this,arguments);return this.__base=t,e}}(n):e[s]=n)}function y(t,e){for(var i,n=1;i=t[n++];)e?d(i)?r.self(e,i.prototype,i):r.self(e,i):e=d(i)?r(t[0],i.prototype,i):r(t[0],i);return e||t[0]}function r(){var t=arguments,e=p(t[0]),i=e||d(t[0]),n=i?e?y(t[0]):t[0]:h,s=t[i?1:0]||{},r=t[i?2:1],o=s.__constructor||i&&n.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:i?function(){return n.apply(this,arguments)}:function(){};if(!i)return o.prototype=s,o.prototype.__self=o.prototype.constructor=o,f(o,r);f(o,n);var a=(o.__parent=n).prototype,l=o.prototype=c(a);return l.__self=l.constructor=o,s&&v(a,l,s),r&&v(n,o,r),o}r.self=function(){var t=arguments,e=p(t[0])?y(t[0],t[0][0]):t[0],i=t[1],n=t[2],s=e.prototype;return i&&v(s,s,i),n&&v(e,e,n),e};var o=!0;"object"==typeof exports&&(module.exports=r,o=!1),"object"==typeof modules&&(modules.define("inherit",function(t){t(r)}),o=!1),"function"==typeof define&&(define(function(t,e,i){i.exports=r}),o=!1),o&&(t.inherit=r)}(this),modules.define("y-event-emitter",["inherit"],function(t,e){var a=Array.prototype.slice;t(e({on:function(t,e,i){if("function"!=typeof e)throw new TypeError("callback must be a function");this._events||(this._events={});var n={callback:e,context:i},s=this._events[t];return s?s.push(n):(this._events[t]=[n],this._onAddEvent(t)),this},once:function(t,e,i){if("function"!=typeof e)throw new TypeError("callback must be a function");var n=this;function s(){n.off(t,s,i),e.apply(i,arguments)}return s._callback=e,this.on(t,s,i),this},off:function(t,e,i){if("function"!=typeof e)throw new TypeError("callback must be a function");if(!this._events)return this;var n=this._events[t];if(!n)return this;for(var s=n.length,r=0;r<s;r++){var o=n[r],a=o.callback;if((a===e||a._callback===e)&&o.context===i){1===s?(delete this._events[t],this._onRemoveEvent(t)):n.splice(r,1);break}}return this},offAll:function(t){if(this._events)if(t)this._events[t]&&(delete this._events[t],this._onRemoveEvent(t));else{for(t in this._events)this._events.hasOwnProperty(t)&&this._onRemoveEvent(t);delete this._events}return this},emit:function(t){if(!this._events)return this;var e=this._events[t];if(!e)return this;var i,n=e.slice(0),s=n.length,r=-1;switch(arguments.length){case 1:for(;++r<s;)(i=n[r]).callback.call(i.context);break;case 2:for(;++r<s;)(i=n[r]).callback.call(i.context,arguments[1]);break;case 3:for(;++r<s;)(i=n[r]).callback.call(i.context,arguments[1],arguments[2]);break;default:for(var o=a.call(arguments,1);++r<s;)(i=n[r]).callback.apply(i.context,o)}return this},_onAddEvent:function(){},_onRemoveEvent:function(){}}))}),modules.define("y-event-manager",["inherit","y-event-emitter","jquery"],function(t,e,s,r){t(e({__constructor:function(t){this._owner=t,this._listeners=[]},bindTo:function(t,e,i){if(t instanceof s)this._listeners.push({type:"islets",emitter:t.on(e,i,this._owner),event:e,callback:i});else{if(!(t instanceof r))throw new Error("Unsupported emitter type");var n=i.bind(this._owner);this._listeners.push({type:"jquery",emitter:t.on(e,n),event:e,callback:i,proxy:n})}return this},unbindFrom:function(t,e,i){for(var n=0;n<this._listeners.length;n++){var s=this._listeners[n];if(s.emitter===t&&s.event===e&&s.callback===i){this._unbind(s),this._listeners.splice(n,1);break}}return this},unbindAll:function(){for(;this._listeners.length;){var t=this._listeners.pop();this._unbind(t)}return this},_unbind:function(t){switch(t.type){case"islets":t.emitter.off(t.event,t.callback,this._owner);break;case"jquery":t.emitter.off(t.event,t.proxy)}}}))}),modules.define("jquery",["y-load-script","jquery-config"],function(t,e,i){function n(){t(jQuery.noConflict(!0))}"undefined"!=typeof jQuery?n():e(i.url,n)}),modules.define("y-load-script",function(t){var n={},s={},r=document.getElementsByTagName("head")[0];function o(t){s[t]=!0;var e=n[t];delete n[t],e.forEach(function(t){t()})}t(function(e,t){var i;s[e]?t():n[e]?n[e].push(t):(n[e]=[t],(i=document.createElement("script")).type="text/javascript",i.charset="utf-8",i.src=("file:"===location.protocol&&0===e.indexOf("//")?"http:":"")+e,null===i.onreadystatechange?i.onreadystatechange=function(){var t=this.readyState;"loaded"!==t&&"complete"!==t||(i.onreadystatechange=null,o(e))}:i.onload=i.onerror=function(){i.onload=i.onerror=null,o(e)},r.insertBefore(i,r.lastChild))})}),modules.define("jquery-config",function(t){t({url:"//yastatic.net/jquery/1.10.1/jquery.min.js"})}),modules.define("y-block-event",["inherit"],function(t,e){t(e({__constructor:function(t,e,i){this.type=t,this._isPropagationStopped=Boolean(e),this._isDefaultPrevented=Boolean(i)},isPropagationStopped:function(){return this._isPropagationStopped},isDefaultPrevented:function(){return this._isDefaultPrevented},stopPropagation:function(){this._isPropagationStopped=!0},preventDefault:function(){this._isDefaultPrevented=!0}}))}),function(l){function a(){this._promise=new t}a.prototype={promise:function(){return this._promise},resolve:function(t){this._promise.isResolved()||this._promise._resolve(t)},reject:function(t){this._promise.isResolved()||this._promise._reject(t)},notify:function(t){this._promise.isResolved()||this._promise._notify(t)}};var o=0,e=1,i=-1,t=function(t){var e,i;this._value=h,this._status=o,this._fulfilledCallbacks=[],this._rejectedCallbacks=[],this._progressCallbacks=[],t&&(e=this,t(function(t){e.isResolved()||e._resolve(t)},1<(i=t.length)?function(t){e.isResolved()||e._reject(t)}:h,2<i?function(t){e.isResolved()||e._notify(t)}:h))};t.prototype={valueOf:function(){return this._value},isResolved:function(){return this._status!==o},isFulfilled:function(){return this._status===e},isRejected:function(){return this._status===i},then:function(t,e,i,n){var s=new a;return this._addCallbacks(s,t,e,i,n),s.promise()},catch:function(t,e){return this.then(h,t,e)},fail:function(t,e){return this.then(h,t,e)},always:function(t,e){function i(){return t.call(this,n)}var n=this;return this.then(i,i,e)},progress:function(t,e){return this.then(h,h,t,e)},spread:function(e,t,i){return this.then(function(t){return e.apply(this,t)},t,i)},done:function(t,e,i,n){this.then(t,e,i,n).fail(u)},delay:function(i){var n,t=this.then(function(t){var e=new a;return n=setTimeout(function(){e.resolve(t)},i),e.promise()});return t.always(function(){clearTimeout(n)}),t},timeout:function(t){var e=new a,i=setTimeout(function(){e.reject(Error("timed out"))},t);return this.then(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise().always(function(){clearTimeout(i)}),e.promise()},_vow:!0,_resolve:function(t){if(this._status===o)if(t!==this)if(t&&t._vow)t.then(this._resolve,this._reject,this._notify,this);else{if(p(t)||f(t)){var e;try{e=t.then}catch(t){return void this._reject(t)}if(f(e)){var i=this,n=!1;try{e.call(t,function(t){n||(n=!0,i._resolve(t))},function(t){n||(n=!0,i._reject(t))},function(t){i._notify(t)})}catch(t){n||this._reject(t)}return}}this._fulfill(t)}else this._reject(TypeError("Can't resolve promise with itself"))},_fulfill:function(t){this._status===o&&(this._status=e,this._value=t,this._callCallbacks(this._fulfilledCallbacks,t),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=h)},_reject:function(t){this._status===o&&(this._status=i,this._value=t,this._callCallbacks(this._rejectedCallbacks,t),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=h)},_notify:function(t){this._callCallbacks(this._progressCallbacks,t)},_addCallbacks:function(t,e,i,n,s){var r;i&&!f(i)?(s=i,i=h):n&&!f(n)&&(s=n,n=h),this.isRejected()||(r={defer:t,fn:f(e)?e:h,ctx:s},this.isFulfilled()?this._callCallbacks([r],this._value):this._fulfilledCallbacks.push(r)),this.isFulfilled()||(r={defer:t,fn:i,ctx:s},this.isRejected()?this._callCallbacks([r],this._value):this._rejectedCallbacks.push(r)),this._status===o&&this._progressCallbacks.push({defer:t,fn:n,ctx:s})},_callCallbacks:function(o,a){var l,h,c=o.length;c&&(l=this.isResolved(),h=this.isFulfilled(),r(function(){for(var t,e,i,n=0;n<c;)if(e=(t=o[n++]).defer,i=t.fn){var s,r=t.ctx;try{s=r?i.call(r,a):i(a)}catch(t){e.reject(t);continue}l?e.resolve(s):e.notify(s)}else l?h?e.resolve(a):e.reject(a):e.notify(a)}))}};var n={cast:function(t){return c.cast(t)},all:function(t){return c.all(t)},race:function(t){return c.anyResolved(t)},resolve:function(t){return c.resolve(t)},reject:function(t){return c.reject(t)}};for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s]);var h,c={Deferred:a,Promise:t,defer:function(){return new a},when:function(t,e,i,n,s){return c.cast(t).then(e,i,n,s)},fail:function(t,e,i){return c.when(t,h,e,i)},always:function(t,e,i){return c.when(t).always(e,i)},progress:function(t,e,i){return c.when(t).progress(e,i)},spread:function(t,e,i,n){return c.when(t).spread(e,i,n)},done:function(t,e,i,n,s){c.when(t).done(e,i,n,s)},isPromise:function(t){return p(t)&&f(t.then)},cast:function(t){return c.isPromise(t)?t:c.resolve(t)},valueOf:function(t){return t&&f(t.valueOf)?t.valueOf():t},isFulfilled:function(t){return!t||!f(t.isFulfilled)||t.isFulfilled()},isRejected:function(t){return!(!t||!f(t.isRejected))&&t.isRejected()},isResolved:function(t){return!t||!f(t.isResolved)||t.isResolved()},resolve:function(t){var e=c.defer();return e.resolve(t),e.promise()},fulfill:function(t){return c.when(t,null,function(t){return t})},reject:function(t){return c.when(t,function(t){throw t})},invoke:function(t,e){var i,n=Math.max(arguments.length-1,0);if(n){i=Array(n);for(var s=0;s<n;)i[s++]=arguments[s]}try{return c.resolve(i?t.apply(l,i):t.call(l))}catch(t){return c.reject(t)}},all:function(e){var i=new a,t=_(e),n=(t?g:m)(e),s=n.length,r=t?[]:{};if(!s)return i.resolve(r),i.promise();var o=s;return c._forEach(e,function(){if(!--o){for(var t=0;t<s;)r[n[t]]=c.valueOf(e[n[t++]]);i.resolve(r)}},i.reject,i.notify,i,n),i.promise()},allResolved:function(t){var e=new a,i=_(t),n=(i?g:m)(t),s=n.length,r=i?[]:{};if(!s)return e.resolve(r),e.promise();function o(){--s||e.resolve(t)}return c._forEach(t,o,o,e.notify,e,n),e.promise()},allPatiently:function(l){return c.allResolved(l).then(function(){var t,e,i,n,s=_(l),r=(s?g:m)(l),o=r.length,a=0;if(!o)return s?[]:{};for(;a<o;)i=r[a++],n=l[i],c.isRejected(n)?(t=t||(s?[]:{}),s?t.push(n.valueOf()):t[i]=n.valueOf()):t||((e=e||(s?[]:{}))[i]=c.valueOf(n));if(t)throw t;return e})},any:function(t){var e=new a,i=t.length;if(!i)return e.reject(Error()),e.promise();var n,s=0;return c._forEach(t,e.resolve,function(t){s||(n=t),++s===i&&e.reject(n)},e.notify,e),e.promise()},anyResolved:function(t){var e=new a;return t.length?c._forEach(t,e.resolve,e.reject,e.notify,e):e.reject(Error()),e.promise()},delay:function(t,e){return c.resolve(t).delay(e)},timeout:function(t,e){return c.resolve(t).timeout(e)},_forEach:function(t,e,i,n,s,r){for(var o=r?r.length:t.length,a=0;a<o;)c.when(t[r?r[a]:a],e,i,n,s),++a}},r=function(){function i(t){return 1===s.push(t)}function n(){var t=s,e=0,i=s.length;for(s=[];e<i;)t[e++]()}var s=[];if("function"==typeof setImmediate)return function(t){i(t)&&setImmediate(n)};if("object"==typeof process&&process.nextTick)return function(t){i(t)&&process.nextTick(n)};if(l.postMessage){var t,e=!0;if(l.attachEvent&&(t=function(){e=!1},l.attachEvent("onmessage",t),l.postMessage("__checkAsync","*"),l.detachEvent("onmessage",t)),e){function r(t){t.data===o&&(t.stopPropagation&&t.stopPropagation(),n())}var o="__promise"+ +new Date;return l.addEventListener?l.addEventListener("message",r,!0):l.attachEvent("onmessage",r),function(t){i(t)&&l.postMessage(o,"*")}}}var a=l.document;if("onreadystatechange"in a.createElement("script")){return function(t){var e;i(t)&&((e=a.createElement("script")).onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,n()},(a.documentElement||a.body).appendChild(e))}}return function(t){i(t)&&setTimeout(n,0)}}(),u=function(t){r(function(){throw t})},f=function(t){return"function"==typeof t},p=function(t){return null!==t&&"object"==typeof t},d=Object.prototype.toString,_=Array.isArray||function(t){return"[object Array]"===d.call(t)},g=function(t){for(var e=[],i=0,n=t.length;i<n;)e.push(i++);return e},m=Object.keys||function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},v=!0;"object"==typeof exports&&(module.exports=c,v=!1),"object"==typeof modules&&(modules.define("vow",function(t){t(c)}),v=!1),"function"==typeof define&&(define(function(t,e,i){i.exports=c}),v=!1),v&&(l.vow=c)}(this),modules.define("y-extend",function(t){var f=Object.prototype.hasOwnProperty,e=Object.prototype.toString;function p(t){return"[object Object]"===e.call(t)&&!t.nodeType&&t.window!==window}t(function t(e,i){for(var n,s=e,r="boolean"==typeof s?(n=s,s=i,2):(n=!1,1);r<arguments.length;r++){var o,a,l,h,c=arguments[r];if(c)for(var u in c){f.call(c,u)&&(o=c[u],a=!1,n&&o&&(p(o)||(a=Array.isArray(o)))?(l=s[u],h=a?l&&Array.isArray(l)?l:[]:l&&p(l)?l:{},s[u]=t(n,h,o)):s[u]=o)}}return s})}),modules.define("hammer",[],function(t){"use strict";var o=["","webkit","moz","MS","ms","o"],e=document.createElement("div"),i="function",r=Math.round,u=Math.abs,c=Date.now;function a(t,e,i){return setTimeout(p(t,i),e)}function n(t,e,i){return Array.isArray(t)&&(s(t,i[e],i),1)}function s(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function l(t,e,i){for(var n=Object.keys(e),s=0;s<n.length;)(!i||i&&void 0===t[n[s]])&&(t[n[s]]=e[n[s]]),s++;return t}function h(t,e){return l(t,e,!0)}function f(t,e,i){var n=e.prototype,s=t.prototype=Object.create(n);s.constructor=t,s._super=n,i&&l(s,i)}function p(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==i?t.apply(e&&e[0]||void 0,e):t}function _(t,e){return void 0===t?e:t}function g(e,t,i){s(b(t),function(t){e.addEventListener(t,i,!1)})}function m(e,t,i){s(b(t),function(t){e.removeEventListener(t,i,!1)})}function v(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function y(t,e){return-1<t.indexOf(e)}function b(t){return t.trim().split(/\s+/g)}function w(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function T(t,i,e){for(var n=[],s=[],r=0;r<t.length;){var o=i?t[r][i]:t[r];w(s,o)<0&&n.push(t[r]),s[r]=o,r++}return e&&(n=i?n.sort(function(t,e){return t[i]>e[i]}):n.sort()),n}function P(t,e){for(var i,n,s=e[0].toUpperCase()+e.slice(1),r=0;r<o.length;){if((n=(i=o[r])?i+s:e)in t)return n;r++}}var k=1;function E(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}var S="ontouchstart"in window,A=void 0!==P(window,"PointerEvent"),C=S&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),O="touch",D="mouse",R=25,M=1,z=4,N=8,I=1,F=2,L=4,j=8,B=16,X=F|L,U=j|B,Y=X|U,V=["x","y"],W=["clientX","clientY"];function q(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){d(e.options.enable,[e])&&i.handler(t)},this.init()}function H(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,r=e&M&&n-s==0,o=e&(z|N)&&n-s==0;i.isFirst=!!r,i.isFinal=!!o,r&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=G(e));1<s&&!i.firstMultiple?i.firstMultiple=G(e):1===s&&(i.firstMultiple=!1);var r=i.firstInput,o=i.firstMultiple,a=o?o.center:r.center,l=e.center=Z(n);e.timeStamp=c(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=$(a,l),e.distance=Q(a,l),function(t,e){var i=e.center,n=t.offsetDelta||{},s=t.prevDelta||{},r=t.prevInput||{};e.eventType!==M&&r.eventType!==z||(s=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=s.x+(i.x-n.x),e.deltaY=s.y+(i.y-n.y)}(i,e),e.offsetDirection=K(e.deltaX,e.deltaY),e.scale=o?function(t,e){return Q(e[0],e[1],W)/Q(t[0],t[1],W)}(o.pointers,n):1,e.rotation=o?function(t,e){return $(e[1],e[0],W)-$(t[1],t[0],W)}(o.pointers,n):0,function(t,e){var i,n,s,r,o=t.lastInterval||e,a=e.timeStamp-o.timeStamp;{var l,h,c;e.eventType!=N&&(R<a||void 0===o.velocity)?(l=o.deltaX-e.deltaX,h=o.deltaY-e.deltaY,c=function(t,e,i){return{x:e/t||0,y:i/t||0}}(a,l,h),n=c.x,s=c.y,i=u(c.x)>u(c.y)?c.x:c.y,r=K(l,h),t.lastInterval=e):(i=o.velocity,n=o.velocityX,s=o.velocityY,r=o.direction)}e.velocity=i,e.velocityX=n,e.velocityY=s,e.direction=r}(i,e);var h=t.element;v(e.srcEvent.target,h)&&(h=e.srcEvent.target);e.target=h}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function G(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:r(t.pointers[i].clientX),clientY:r(t.pointers[i].clientY)},i++;return{timeStamp:c(),pointers:e,center:Z(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Z(t){var e=t.length;if(1===e)return{x:r(t[0].clientX),y:r(t[0].clientY)};for(var i=0,n=0,s=0;s<e;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:r(i/e),y:r(n/e)}}function K(t,e){return t===e?I:u(t)>=u(e)?0<t?F:L:0<e?j:B}function Q(t,e,i){var n=e[(i=i||V)[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return Math.sqrt(n*n+s*s)}function $(t,e,i){var n=e[(i=i||V)[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return 180*Math.atan2(s,n)/Math.PI}q.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(E(this.element),this.evWin,this.domHandler)}};var J={mousedown:M,mousemove:2,mouseup:z},tt="mousedown",et="mousemove mouseup";function it(){this.evEl=tt,this.evWin=et,this.allow=!0,this.pressed=!1,q.apply(this,arguments)}f(it,q,{handler:function(t){var e=J[t.type];e&M&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=z),this.pressed&&this.allow&&(e&z&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:D,srcEvent:t}))}});var nt={pointerdown:M,pointermove:2,pointerup:z,pointercancel:N,pointerout:N},st={2:O,3:"pen",4:D,5:"kinect"},rt="pointerdown",ot="pointermove pointerup pointercancel";function at(){this.evEl=rt,this.evWin=ot,q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}window.MSPointerEvent&&(rt="MSPointerDown",ot="MSPointerMove MSPointerUp MSPointerCancel"),f(at,q,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=nt[n],r=st[t.pointerType]||t.pointerType,o=r==O,a=w(e,t.pointerId,"pointerId");s&M&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):s&(z|N)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))}});var lt={touchstart:M,touchmove:2,touchend:z,touchcancel:N};function ht(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,q.apply(this,arguments)}f(ht,q,{handler:function(t){var e,i=lt[t.type];i===M&&(this.started=!0),this.started&&(e=function(t,e){var i=x(t.touches),n=x(t.changedTouches);e&(z|N)&&(i=T(i.concat(n),"identifier",!0));return[i,n]}.call(this,t,i),i&(z|N)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:e[0],changedPointers:e[1],pointerType:O,srcEvent:t}))}});var ct={touchstart:M,touchmove:2,touchend:z,touchcancel:N},ut="touchstart touchmove touchend touchcancel";function ft(){this.evTarget=ut,this.targetIds={},q.apply(this,arguments)}function pt(){q.apply(this,arguments);var t=p(this.handler,this);this.touch=new ft(this.manager,t),this.mouse=new it(this.manager,t)}f(ft,q,{handler:function(t){var e=ct[t.type],i=function(t,e){var i=x(t.touches),n=this.targetIds;if(e&(2|M)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,r,o=x(t.changedTouches),a=[],l=this.target;if(r=i.filter(function(t){return v(t.target,l)}),e===M)for(s=0;s<r.length;)n[r[s].identifier]=!0,s++;s=0;for(;s<o.length;)n[o[s].identifier]&&a.push(o[s]),e&(z|N)&&delete n[o[s].identifier],s++;return a.length?[T(r.concat(a),"identifier",!0),a]:void 0}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:O,srcEvent:t})}}),f(pt,q,{handler:function(t,e,i){var n=i.pointerType==O,s=i.pointerType==D;if(n)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;e&(z|N)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var dt=P(e.style,"touchAction"),_t=void 0!==dt,gt="compute",mt="manipulation",vt="none",yt="pan-x",bt="pan-y";function wt(t,e){this.manager=t,this.set(e)}wt.prototype={set:function(t){t==gt&&(t=this.compute()),_t&&(this.manager.element.style[dt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return s(this.manager.recognizers,function(t){d(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(y(t,vt))return vt;var e=y(t,yt),i=y(t,bt);if(e&&i)return yt+" "+bt;if(e||i)return e?yt:bt;if(y(t,mt))return mt;return"auto"}(e.join(" "))},preventDefaults:function(t){if(!_t){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,s=y(n,vt),r=y(n,bt),o=y(n,yt);return s||r&&i&X||o&&i&U?this.preventSrc(e):void 0}e.preventDefault()}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var xt=1,Tt=2,Pt=4,kt=8,Et=kt,St=16;function At(t){this.id=k++,this.manager=null,this.options=h(t||{},this.defaults),this.options.enable=_(this.options.enable,!0),this.state=xt,this.simultaneous={},this.requireFail=[]}function Ct(t){return t==B?"down":t==j?"up":t==F?"left":t==L?"right":""}function Ot(t,e){var i=e.manager;return i?i.get(t):t}function Dt(){At.apply(this,arguments)}function Rt(){Dt.apply(this,arguments),this.pX=null,this.pY=null}function Mt(){Dt.apply(this,arguments)}function zt(){At.apply(this,arguments),this._timer=null,this._input=null}function Nt(){Dt.apply(this,arguments)}function It(){Dt.apply(this,arguments)}function Ft(){At.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Lt(t,e){return(e=e||{}).recognizers=_(e.recognizers,Lt.defaults.preset),new jt(t,e)}At.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(n(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ot(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return n(t,"dropRecognizeWith",this)||(t=Ot(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(n(t,"requireFailure",this))return this;var e=this.requireFail;return-1===w(e,t=Ot(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(n(t,"dropRequireFailure",this))return this;t=Ot(t,this);var e=w(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var i=this,n=this.state;function t(t){i.manager.emit(i.options.event+(t?function(t){{if(t&St)return"cancel";if(t&kt)return"end";if(t&Pt)return"move";if(t&Tt)return"start"}return""}(n):""),e)}n<kt&&t(!0),t(),kt<=n&&t(!0)},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|xt)))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!d(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Et|St|32)&&(this.state=xt),this.state=this.process(e),this.state&(Tt|Pt|kt|St)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},f(Dt,At,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(Tt|Pt),s=this.attrTest(t);return n&&(i&N||!s)?e|St:n||s?i&z?e|kt:e&Tt?e|Pt:Tt:32}}),f(Rt,Dt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Y},getTouchAction:function(){var t=this.options.direction,e=[];return t&X&&e.push(bt),t&U&&e.push(yt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,s=t.direction,r=t.deltaX,o=t.deltaY;return s&e.direction||(n=e.direction&X?(s=0===r?I:r<0?F:L,i=r!=this.pX,Math.abs(t.deltaX)):(s=0===o?I:o<0?j:B,i=o!=this.pY,Math.abs(t.deltaY))),t.direction=s,i&&n>e.threshold&&s&e.direction},attrTest:function(t){return Dt.prototype.attrTest.call(this,t)&&(this.state&Tt||!(this.state&Tt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ct(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),f(Mt,Dt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[vt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Tt)},emit:function(t){var e;this._super.emit.call(this,t),1!==t.scale&&(e=t.scale<1?"in":"out",this.manager.emit(this.options.event+e,t))}}),f(zt,At,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(z|N)&&!s)this.reset();else if(t.eventType&M)this.reset(),this._timer=a(function(){this.state=Et,this.tryEmit()},e.time,this);else if(t.eventType&z)return Et;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Et&&(t&&t.eventType&z?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=c(),this.manager.emit(this.options.event,this._input)))}}),f(Nt,Dt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[vt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Tt)}}),f(It,Dt,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:X|U,pointers:1},getTouchAction:function(){return Rt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(X|U)?e=t.velocity:i&X?e=t.velocityX:i&U&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&u(e)>this.options.velocity&&t.eventType&z},emit:function(t){var e=Ct(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),f(Ft,At,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[mt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&M&&0===this.count)return this.failTimeout();if(n&&s&&i){if(t.eventType!=z)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||Q(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&r?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=a(function(){this.state=Et,this.tryEmit()},e.interval,this),Tt):Et}return 32},failTimeout:function(){return this._timer=a(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Et&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Lt.VERSION="2.0.4",Lt.defaults={domEvents:!1,touchAction:gt,enable:!0,inputTarget:null,inputClass:null,preset:[[Nt,{enable:!1}],[Mt,{enable:!1},["rotate"]],[It,{direction:X}],[Rt,{direction:X},["swipe"]],[Ft],[Ft,{event:"doubletap",taps:2},["tap"]],[zt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function jt(t,e){var i,n;e=e||{},this.options=h(e,Lt.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=(n=(i=this).options.inputClass,new(n||(A?at:C?ft:S?pt:it))(i,H)),this.touchAction=new wt(this,this.options.touchAction),Bt(this,!0),s(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Bt(t,i){var n=t.element;s(t.options.cssProps,function(t,e){n.style[P(n.style,e)]=i?t:""})}jt.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e,i=this.session;if(!i.stopped){this.touchAction.preventDefaults(t);var n=this.recognizers,s=i.curRecognizer;(!s||s&&s.state&Et)&&(s=i.curRecognizer=null);for(var r=0;r<n.length;)e=n[r],2===i.stopped||s&&e!=s&&!e.canRecognizeWith(s)?e.reset():e.recognize(t),!s&&e.state&(Tt|Pt|kt)&&(s=i.curRecognizer=e),r++}},get:function(t){if(t instanceof At)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(n(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(n(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(w(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return s(b(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return s(b(t),function(t){e?i[t].splice(w(i[t],e),1):delete i[t]}),this},emit:function(t,e){var i,n,s;this.options.domEvents&&(i=t,n=e,(s=document.createEvent("Event")).initEvent(i,!0,!0),(s.gesture=n).target.dispatchEvent(s));var r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;o<r.length;)r[o](e),o++}},destroy:function(){this.element&&Bt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Lt,{INPUT_START:M,INPUT_MOVE:2,INPUT_END:z,INPUT_CANCEL:N,STATE_POSSIBLE:xt,STATE_BEGAN:Tt,STATE_CHANGED:Pt,STATE_ENDED:kt,STATE_RECOGNIZED:Et,STATE_CANCELLED:St,STATE_FAILED:32,DIRECTION_NONE:I,DIRECTION_LEFT:F,DIRECTION_RIGHT:L,DIRECTION_UP:j,DIRECTION_DOWN:B,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:U,DIRECTION_ALL:Y,Manager:jt,Input:q,TouchAction:wt,TouchInput:ft,MouseInput:it,PointerEventInput:at,TouchMouseInput:pt,SingleTouchInput:ht,Recognizer:At,AttrRecognizer:Dt,Tap:Ft,Pan:Rt,Swipe:It,Pinch:Mt,Rotate:Nt,Press:zt,on:g,off:m,each:s,merge:h,extend:l,inherit:f,bindFn:p,prefixed:P}),t(Lt)}),modules.define("chitalka",["y-block","jquery","inherit","y-extend","chitalka-ui","hammer","storage"],function(t,e,i,n,s,r,o,a){function l(t){throw new Error("UNIMPLEMENTED METHOD: "+t)}var h=i(document);Math.median=function(t){if(t){var e=t.length,i=e%2==0?(t[e/2]+t[e/2-1])/2:t[(e-1)/2];return i}};function c(t,e){return t=parseInt(t,10),(e=parseInt(e,10))<=t?1:-1}t(n(e,{__constructor:function(){this.__base.apply(this,arguments);var t=s({keyboard:!1,touch:!1,controls:!1,fontSize:[9,21],swipeLength:20},this._getOptions());this._defaultFontSize=15,this._settings=new a("settings"),this._isAvailable()?(t.keyboard&&this._initKeyboardEvents(),t.touch&&("ontouchstart"in window||"onmsgesturechange"in window)&&this._initTouchEvents(),this._fontSizeLimits=t.fontSize,this._setUpSpeed(),this._initUI()):this.emit("unavailable")},_setUpSpeed:function(){this._speed=Math.median(this._settings.get("speeds"))||500},_isAvailable:function(){return!1},_initKeyboardEvents:function(){this._bindTo(h,"keydown",this._onKeyDown)},_initUI:function(){this._ui=r.find(h).init(this)},_initTouchEvents:function(){this._swiper=new o(this.getDomNode()[0]),this._swiper.on("swipe",function(t){switch(2===t.direction?"left":"right"){case"left":this.nextPage();break;case"right":this.previousPage()}}.bind(this))},_onKeyDown:function(t){switch(t.keyCode){case 35:this.lastPage();break;case 36:this.firstPage();break;case 37:this.previousPage(),t.preventDefault();break;case 39:this.nextPage(),t.preventDefault();break;case 61:case 187:this.zoomIn(),t.metaKey&&t.preventDefault();break;case 173:case 189:this.zoomOut(),t.metaKey&&t.preventDefault();break;case 48:t.metaKey&&this.zoomReset()}},firstPage:function(){l("firstPage")},previousPage:function(){l("previousPage")},nextPage:function(){l("nextPage")},lastPage:function(){l("lastPage")},_storeSpeed:function(t){if(this._speedAccumulator=this._speedAccumulator||[],9<this._speedAccumulator.length)for(;this._speedAccumulator.shift(),9!==this._speedAccumulator.length;);this._speedAccumulator.push(t),this._speedAccumulator=this._speedAccumulator.sort(c)},_checkSpeed:function(){var t,e;10<=this._speedAccumulator.length&&(this._speedAccumulator=this._speedAccumulator.sort(c),(t=Math.median(this._speedAccumulator))<1e5&&10<t&&(this._speedAccumulator=this._speedAccumulator.sort(c),this._settings.get("speeds")?((e=function(t,e){if(!Array.isArray(t))return[];if(t.length<=e)return t;var i=Math.median(t),n=t.indexOf(i),s=Math.round(n-e/2);return t.splice(s,e)}(this._settings.get("speeds"),10)).length<10?e.push(t):t<=e[5]?(e.pop(),e.unshift(t)):(e.shift(),e.push(t)),e=e.sort(c),this._settings.save({speeds:e})):this._settings.save({speeds:this._speedAccumulator}),this._speed=Math.median(this._settings.get("speeds"))))},getSpeed:function(){return this._speed},zoomIn:function(){l("zoomIn")},zoomOut:function(){l("zoomOut")},zoomReset:function(){l("zoomReset")}}))}),modules.define("storage",["y-block","jquery","y-extend","inherit"],function(t,e,i,n,s){var r=window.localStorage;t(s(e,{__constructor:function(t){this.__base.apply(this,arguments),this._id=t,this._restore()},get:function(t){return this._data&&this._data[t]},remove:function(t){delete this._data[t],this._save()},save:function(t,e){e||"object"!=typeof t?this._data[t]=e:n(this._data,t),this._save()},_restore:function(){if(this._data=r.getItem(this._id)||{},"string"==typeof this._data)try{this._data=JSON.parse(this._data)}catch(t){this._data={}}"object"!=typeof this._data&&(this._data={})},_save:function(){r.setItem(this._id,JSON.stringify(this._data))}},{getBlockName:function(){return"storage"}}))}),modules.define("unzip",[],function(t){var T,r,f="File format is not recognized.",o="File contains encrypted entry.",a="File is using Zip64 (4gb+ file size).",p="Error while reading zip file.",e="Error while reading file data.",g=524288,P="inflate.js",w="deflate.js",l="text/plain",x="message";try{r=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(t){}function k(){var n=-1,s=this;s.append=function(t){for(var e=s.table,i=0;i<t.length;i++)n=n>>>8^e[255&(n^t[i])]},s.get=function(){return~n}}function E(t,e){var i=new ArrayBuffer(t),n=new Uint8Array(i);return e&&n.set(e,0),{buffer:i,array:n,view:new DataView(i)}}function i(){}function n(n){var s,r=this;r.size=0,r.init=function(t,e){var i=new Blob([n],{type:l});(s=new h(i)).init(function(){r.size=s.size,t()},e)},r.readUint8Array=function(t,e,i,n){s.readUint8Array(t,e,i,n)}}function s(h){var c,i=this;i.size=0,i.init=function(t){for(var e=h.length;"="==h.charAt(e-1);)e--;c=h.indexOf(",")+1,i.size=Math.floor(.75*(e-c)),t()},i.readUint8Array=function(t,e,i){for(var n=E(e),s=4*Math.floor(t/3),r=4*Math.ceil((t+e)/3),o=window.atob(h.substring(s+c,r+c)),a=t-3*Math.floor(s/4),l=a;l<a+e;l++)n.array[l-a]=o.charCodeAt(l);i(n.array)}}function h(l){this.size=0,this.init=function(t){this.size=l.size,t()},this.readUint8Array=function(t,e,i,n){var s,r,o,a=new FileReader;a.onload=function(t){i(new Uint8Array(t.target.result))},a.onerror=n,a.readAsArrayBuffer((r=t,o=e,(s=l).slice?s.slice(r,r+o):s.webkitSlice?s.webkitSlice(r,r+o):s.mozSlice?s.mozSlice(r,r+o):s.msSlice?s.msSlice(r,r+o):void 0))}}function c(){}function u(n){var s;this.init=function(t){s=new Blob([],{type:l}),t()},this.writeUint8Array=function(t,e){s=new Blob([s,r?t:t.buffer],{type:l}),e()},this.getData=function(e,t){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=t,i.readAsText(s,n)}}function d(e){var r="",o="";this.init=function(t){r+="data:"+(e||"")+";base64,",t()},this.writeUint8Array=function(t,e){var i,n=o.length,s=o;for(o="",i=0;i<3*Math.floor((n+t.length)/3)-n;i++)s+=String.fromCharCode(t[i]);for(;i<t.length;i++)o+=String.fromCharCode(t[i]);2<s.length?r+=window.btoa(s):o=s,e()},this.getData=function(t){t(r+window.btoa(o))}}function _(i){var n;this.init=function(t){n=new Blob([],{type:i}),t()},this.writeUint8Array=function(t,e){n=new Blob([n,r?t:t.buffer],{type:i}),e()},this.getData=function(t){t(n)}}function S(e,t,n,i,s,r,o,a,l,h){var c,u,f=0;function p(){e.removeEventListener(x,d,!1),a(u)}function d(t){var e=t.data,i=e.data;e.onappend&&(u+=i.length,n.writeUint8Array(i,function(){r(!1,i),_()},h)),e.onflush&&(i?(u+=i.length,n.writeUint8Array(i,function(){r(!1,i),p()},h)):p()),e.progress&&o&&o(c+e.current,s)}function _(){(c=f*g)<s?t.readUint8Array(i+c,Math.min(g,s-c),function(t){e.postMessage({append:!0,data:t}),f++,o&&o(c,s),r(!0,t)},l):e.postMessage({flush:!0})}u=0,e.addEventListener(x,d,!1),_()}function A(n,e,s,r,o,a,l,h,c,u){var f,p=0,d=0;!function i(){var t;(f=p*g)<o?e.readUint8Array(r+f,Math.min(g,o-f),function(t){var e=n.append(t,function(){l&&l(r+f,o)});d+=e.length,a(!0,t),s.writeUint8Array(e,function(){a(!1,e),p++,setTimeout(i,1)},u),l&&l(f,o)},c):(t=n.flush())?(d+=t.length,s.writeUint8Array(t,function(){a(!1,t),h(d)},u)):h(d)}()}function C(t,n,s,r,o,a,l,h,c){var u=0,f=new k;!function e(){var i=u*g;i<r?t.readUint8Array(s+i,Math.min(g,r-i),function(t){o&&f.append(t),l&&l(i,r,t),n.writeUint8Array(t,function(){u++,e()},c)},h):a(r,f.get())}()}function m(t){for(var e,i="",n=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "],s=0;s<t.length;s++)i+=127<(e=255&t.charCodeAt(s))?n[e-128]:String.fromCharCode(e);return i}function v(t){return decodeURIComponent(escape(t))}function y(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e}function O(t,e,i,n,s){t.version=e.view.getUint16(i,!0),t.bitFlag=e.view.getUint16(i+2,!0),t.compressionMethod=e.view.getUint16(i+4,!0),t.lastModDateRaw=e.view.getUint32(i+6,!0),t.lastModDate=function(t){var e=(4294901760&t)>>16,i=65535&t;try{return new Date(1980+((65024&e)>>9),((480&e)>>5)-1,31&e,(63488&i)>>11,(2016&i)>>5,2*(31&i),0)}catch(t){}}(t.lastModDateRaw),1!=(1&t.bitFlag)?(!n&&8==(8&t.bitFlag)||(t.crc32=e.view.getUint32(i+10,!0),t.compressedSize=e.view.getUint32(i+14,!0),t.uncompressedSize=e.view.getUint32(i+18,!0)),4294967295!==t.compressedSize&&4294967295!==t.uncompressedSize?(t.filenameLength=e.view.getUint16(i+22,!0),t.extraFieldLength=e.view.getUint16(i+24,!0)):s(a)):s(o)}function b(x,c){function u(){}return u.prototype.getData=function(d,s,_,g){var m,v=this;function r(t,e){m&&m.terminate(),m=null,t&&t(e)}function y(t,e){var i,n;g&&(i=e,(n=E(4)).view.setUint32(0,i),v.crc32!=n.view.getUint32(0))?b():d.getData(function(t){r(s,t)})}function b(){r(c,e)}function w(){r(c,"Error while writing file data.")}x.readUint8Array(v.offset,30,function(t){var p,e=E(t.length,t);1347093252==e.view.getUint32(0)?(O(v,e,4,!1,c),p=v.offset+30+v.filenameLength+v.extraFieldLength,d.init(function(){function t(t,e){o&&!t&&f.append(e)}function e(t){a(t,f.get())}var i,n,s,r,o,a,l,h,c,u,f;0===v.compressionMethod?C(x,d,p,v.compressedSize,g,y,_,b,w):(i=x,n=d,s=p,r=v.compressedSize,o=g,a=y,l=_,h=b,c=w,f=new k,T.useWebWorkers?S(u=new Worker(T.workerScriptsPath+P),i,n,s,r,t,l,e,h,c):A(new T.Inflater,i,n,s,r,t,l,e,h,c),m=u)},w)):c(f)},b)},{getEntries:function(h){x.size<22?c(f):function i(n,s){x.readUint8Array(x.size-n,n,function(t){var e=E(t.length,t).view;1347093766!=e.getUint32(0)?i(n+1,s):s(e)},function(){c(p)})}(22,function(t){var e=t.getUint32(16,!0),l=t.getUint16(8,!0);x.readUint8Array(e,x.size-e,function(t){for(var e,i,n,s=0,r=[],o=E(t.length,t),a=0;a<l;a++){if(e=new u,1347092738!=o.view.getUint32(s))return void c(f);O(e,o,s+6,!0,c),e.commentLength=o.view.getUint16(s+32,!0),e.directory=16==(16&o.view.getUint8(s+38)),e.offset=o.view.getUint32(s+42,!0),i=y(o.array.subarray(s+46,s+46+e.filenameLength)),e.filename=(2048==(2048&e.bitFlag)?v:m)(i),e.directory||"/"!=e.filename.charAt(e.filename.length-1)||(e.directory=!0),n=y(o.array.subarray(s+46+e.filenameLength+e.extraFieldLength,s+46+e.filenameLength+e.extraFieldLength+e.commentLength)),e.comment=(2048==(2048&e.bitFlag)?v:m)(n),r.push(e),s+=46+e.filenameLength+e.extraFieldLength+e.commentLength}h(r)},function(){c(p)})})},close:function(t){t&&t()}}}function D(t){return unescape(encodeURIComponent(t))}function R(t){for(var e=[],i=0;i<t.length;i++)e.push(t.charCodeAt(i));return e}function M(_,a,g){var m,l={},h=[],c=0;function v(t,e){m&&m.terminate(),m=null,t&&t(e)}function y(){v(a,"Error while writing zip file.")}function b(){v(a,e)}return{add:function(i,u,n,f,p){var s,r,o;function d(t,e){var i=E(16);c+=t||0,i.view.setUint32(0,1347094280),void 0!==e&&(s.view.setUint32(10,e,!0),i.view.setUint32(4,e,!0)),u&&(i.view.setUint32(8,t,!0),s.view.setUint32(14,t,!0),i.view.setUint32(12,u.size,!0),s.view.setUint32(18,u.size,!0)),_.writeUint8Array(i.array,function(){c+=16,v(n)},y)}function t(){var t,e;p=p||{},i=i.trim(),p.directory&&"/"!=i.charAt(i.length-1)&&(i+="/"),l.hasOwnProperty(i)?a("File already exists."):(r=R(D(i)),h.push(i),t=function(){function e(t,e){t&&c.append(e)}function i(t){r(t,c.get())}var n,s,t,r,o,a,l,h,c;u?g||0===p.level?C(u,_,0,u.size,!0,d,f,b,y):(n=u,s=_,t=p.level,r=d,o=f,a=b,l=y,c=new k,T.useWebWorkers?((h=new Worker(T.workerScriptsPath+w)).addEventListener(x,function t(){h.removeEventListener(x,t,!1),S(h,n,s,0,n.size,e,o,i,a,l)},!1),h.postMessage({init:!0,level:t})):A(new T.Deflater,n,s,0,n.size,e,o,i,a,l),m=h):d()},o=p.lastModDate||new Date,s=E(26),l[i]={headerArray:s.array,directory:p.directory,filename:r,offset:c,comment:R(D(p.comment||""))},s.view.setUint32(0,335546376),p.version&&s.view.setUint8(0,p.version),g||0===p.level||p.directory||s.view.setUint16(4,2048),s.view.setUint16(6,(o.getHours()<<6|o.getMinutes())<<5|o.getSeconds()/2,!0),s.view.setUint16(8,(o.getFullYear()-1980<<4|o.getMonth()+1)<<5|o.getDate(),!0),s.view.setUint16(22,r.length,!0),(e=E(30+r.length)).view.setUint32(0,1347093252),e.array.set(s.array,4),e.array.set(r,30),c+=e.array.length,_.writeUint8Array(e.array,t,y))}u?u.init(t,b):t()},close:function(t){for(var e,i,n=0,s=0,r=0;r<h.length;r++)n+=46+(i=l[h[r]]).filename.length+i.comment.length;for(e=E(n+22),r=0;r<h.length;r++)i=l[h[r]],e.view.setUint32(s,1347092738),e.view.setUint16(s+4,5120),e.array.set(i.headerArray,s+6),e.view.setUint16(s+32,i.comment.length,!0),i.directory&&e.view.setUint8(s+38,16),e.view.setUint32(s+42,i.offset,!0),e.array.set(i.filename,s+46),e.array.set(i.comment,s+46+i.filename.length),s+=46+i.filename.length+i.comment.length;e.view.setUint32(s,1347093766),e.view.setUint16(s+8,h.length,!0),e.view.setUint16(s+10,h.length,!0),e.view.setUint32(s+12,n,!0),e.view.setUint32(s+16,c,!0),_.writeUint8Array(e.array,function(){v(function(){_.getData(t)})},y)}}}k.prototype.table=function(){for(var t,e,i=[],n=0;n<256;n++){for(e=n,t=0;t<8;t++)1&e?e=e>>>1^3988292384:e>>>=1;i[n]=e}return i}(),(n.prototype=new i).constructor=n,(s.prototype=new i).constructor=s,(h.prototype=new i).constructor=h,c.prototype.getData=function(t){t(this.data)},(u.prototype=new c).constructor=u,(d.prototype=new c).constructor=d,_.prototype=new c,T={Reader:i,Writer:c,BlobReader:h,Data64URIReader:s,TextReader:n,BlobWriter:_.prototype.constructor=_,Data64URIWriter:d,TextWriter:u,createReader:function(t,e,i){t.init(function(){e(b(t,i))},i)},createWriter:function(t,e,i,n){t.init(function(){e(M(t,i,n))},i)},workerScriptsPath:"",useWebWorkers:!0},function(){var s,o,t=T.Reader,e=T.Writer;try{o=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(t){}function r(a){var l=this;l.size=0,l.init=function(e,i){var n=new XMLHttpRequest;n.addEventListener("load",function(t){500<=t.target.status?i():(l.size=Number(n.getResponseHeader("Content-Length")),e())},!1),n.addEventListener("error",i,!1),n.open("HEAD",a),n.send()},l.readUint8Array=function(t,e,i,n){var s,r,o;s=function(){i(new Uint8Array(l.data.subarray(t,t+e)))},r=n,l.data?s():((o=new XMLHttpRequest).addEventListener("load",function(t){500<=t.target.status?r():(l.size||(l.size=Number(o.getResponseHeader("Content-Length"))),l.data=new Uint8Array(o.response),s())},!1),o.addEventListener("error",r,!1),o.open("GET",a),o.responseType="arraybuffer",o.send())}}function a(h){var n=this;n.size=0,n.init=function(t,e){var i=new XMLHttpRequest;i.addEventListener("load",function(){n.size=Number(i.getResponseHeader("Content-Length")),"bytes"==i.getResponseHeader("Accept-Ranges")?t():e("HTTP Range not supported.")},!1),i.addEventListener("error",e,!1),i.open("HEAD",h),i.send()},n.readUint8Array=function(t,e,i,n){var s,r,o,a,l;s=t,r=e,o=function(t){i(new Uint8Array(t))},a=n,(l=new XMLHttpRequest).open("GET",h),l.responseType="arraybuffer",l.setRequestHeader("Range","bytes="+s+"-"+(s+r-1)),l.addEventListener("load",function(){o(l.response)},!1),l.addEventListener("error",a,!1),l.send()}}function i(s){var i=this;i.size=0,i.init=function(t,e){i.size=s.byteLength,t()},i.readUint8Array=function(t,e,i,n){i(new Uint8Array(s.slice(t,t+e)))}}function n(){var s;this.init=function(t,e){s=new Uint8Array,t()},this.writeUint8Array=function(t,e,i){var n=new Uint8Array(s.length+t.length);n.set(s),n.set(t,s.length),s=n,e()},this.getData=function(t){t(s.buffer)}}function l(i,s){var r;this.init=function(e,t){i.createWriter(function(t){r=t,e()},t)},this.writeUint8Array=function(t,e,i){var n=new Blob([o?t:t.buffer],{type:s});r.onwrite=function(){r.onwrite=null,e()},r.onerror=i,r.write(n)},this.getData=function(t){i.file(t)}}(r.prototype=new t).constructor=r,(a.prototype=new t).constructor=a,(i.prototype=new t).constructor=i,(n.prototype=new e).constructor=n,(l.prototype=new e).constructor=l,T.FileWriter=l,T.HttpReader=r,T.HttpRangeReader=a,T.ArrayBufferReader=i,T.ArrayBufferWriter=n,T.fs&&((s=T.fs.ZipDirectoryEntry).prototype.addHttpContent=function(t,e,i){return function(t,e,i,n){if(t.directory)return n?new s(t.fs,e,i,t):new T.fs.ZipFileEntry(t.fs,e,i,t);throw"Parent entry is not a directory."}(this,t,{data:e,Reader:i?a:r})},s.prototype.importHttpContent=function(t,e,i,n){this.importZip(new(e?a:r)(t),i,n)},T.fs.FS.prototype.importHttpContent=function(t,e,i,n){this.entries=[],this.root=new s(this),this.root.importHttpContent(t,e,i,n)})}(),t(T)});var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(r,f){var d,P,W,p,q=function(){r.call(this,"css"),this._overwriteProps.length=0,this.setRatio=q.prototype.setRatio},h=_gsScope._gsDefine.globals,_={},t=q.prototype=new r("css");(t.constructor=q).version="1.15.0",q.API=2,q.defaultTransformPerspective=0,q.defaultSkewType="compensated",t="px",q.suffixMap={top:t,right:t,bottom:t,left:t,width:t,height:t,fontSize:t,padding:t,margin:t,perspective:t,lineHeight:""};function o(t,e){return e.toUpperCase()}function e(t){return Q.createElementNS?Q.createElementNS("http://www.w3.org/1999/xhtml",t):Q.createElement(t)}function a(t){return N.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1}function g(t){window.console&&console.log(t)}function k(t,e){var i,n,s=(e=e||$).style;if(void 0!==s[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;-1<--n&&void 0===s[i[n]+t];);return 0<=n?(it="-"+(nt=3===n?"ms":i[n]).toLowerCase()+"-",nt+t):null}function m(t,e){var i,n,s={};if(e=e||st(t,null))if(i=e.length)for(;-1<--i;)s[e[i].replace(B,o)]=e.getPropertyValue(e[i]);else for(i in e)s[i]=e[i];else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===s[i]&&(s[i.replace(B,o)]=e[i]);return et||(s.opacity=a(t)),n=jt(t,e,!1),s.rotation=n.rotation,s.skewX=n.skewX,s.scaleX=n.scaleX,s.scaleY=n.scaleY,s.x=n.x,s.y=n.y,zt&&(s.z=n.z,s.rotationX=n.rotationX,s.rotationY=n.rotationY,s.scaleZ=n.scaleZ),s.filters&&delete s.filters,s}function v(t,e,i,n,s){var r,o,a,l={},h=t.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(e[o]!==(r=i[o])||s&&s[o])&&-1===o.indexOf("Origin")&&("number"!=typeof r&&"string"!=typeof r||(l[o]="auto"!==r||"left"!==o&&"top"!==o?""!==r&&"auto"!==r&&"none"!==r||"string"!=typeof e[o]||""===e[o].replace(c,"")?r:0:at(t,o),void 0!==h[o]&&(a=new _t(h,o,h[o],a))));if(n)for(o in n)"className"!==o&&(l[o]=n[o]);return{difs:l,firstMPT:a}}function y(t,e,i){var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),s=lt[e],r=s.length;for(i=i||st(t,null);-1<--r;)n-=parseFloat(rt(t,"padding"+s[r],i,!0))||0,n-=parseFloat(rt(t,"border"+s[r]+"Width",i,!0))||0;return n}function b(t,e){null!=t&&""!==t&&"auto"!==t&&"auto auto"!==t||(t="0 0");var i=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==s?s="0":"center"===s&&(s="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(n.replace(c,"")),e.oy=parseFloat(s.replace(c,""))),n+" "+s+(2<i.length?" "+i[2]:"")}function E(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)}function w(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)}function x(t,e,i,n){var s,r,o,a=null==t?e:"number"==typeof t?t:(s=360,r=t.split("_"),o=Number(r[0].replace(c,""))*(-1===t.indexOf("rad")?1:Z)-("="===t.charAt(1)?0:e),r.length&&(n&&(n[i]=e+o),-1!==t.indexOf("short")&&(o%=s)!==o%180&&(o=o<0?o+s:o-s),-1!==t.indexOf("_cw")&&o<0?o=(o+3599999999640)%s-(o/s|0)*s:-1!==t.indexOf("ccw")&&0<o&&(o=(o-3599999999640)%s-(o/s|0)*s)),e+o);return a<1e-6&&-1e-6<a&&(a=0),a}function l(t,e,i){return 255*(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0}var S,T,A,I,C,O,i,n,D=/(?:\d|\-\d|\.\d|\-\.\d)+/g,R=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,M=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,c=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,z=/(?:\d|\-|\+|=|#|\.)*/g,N=/opacity *= *([^)]*)/i,F=/opacity:([^;]*)/i,u=/alpha\(opacity *=.+?\)/i,L=/^(rgb|hsl)/,j=/([A-Z])/g,B=/-([a-z])/gi,X=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,U=/(?:Left|Right|Width)/i,H=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,Y=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,V=/,(?=[^\)]*(?:\(|$))/gi,G=Math.PI/180,Z=180/Math.PI,K={},Q=document,$=e("div"),J=e("img"),s=q._internals={_specialProps:_},tt=navigator.userAgent,et=(i=tt.indexOf("Android"),n=e("a"),A=-1!==tt.indexOf("Safari")&&-1===tt.indexOf("Chrome")&&(-1===i||3<Number(tt.substr(i+8,1))),C=A&&Number(tt.substr(tt.indexOf("Version/")+8,1))<6,I=-1!==tt.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(tt)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(tt))&&(O=parseFloat(RegExp.$1)),!!n&&(n.style.cssText="top:1px;opacity:.55;",/^0.55/.test(n.style.opacity))),it="",nt="",st=Q.defaultView?Q.defaultView.getComputedStyle:function(){},rt=q.getStyle=function(t,e,i,n,s){var r;return et||"opacity"!==e?(!n&&t.style[e]?r=t.style[e]:(i=i||st(t))?r=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(j,"-$1").toLowerCase()):t.currentStyle&&(r=t.currentStyle[e]),null==s||r&&"none"!==r&&"auto"!==r&&"auto auto"!==r?r:s):a(t)},ot=s.convertToPixels=function(t,e,i,n,s){if("px"===n||!n)return i;if("auto"===n||!i)return 0;var r,o,a,l=U.test(e),h=t,c=$.style,u=i<0;if(u&&(i=-i),"%"===n&&-1!==e.indexOf("border"))r=i/100*(l?t.clientWidth:t.clientHeight);else{if(c.cssText="border:0 solid red;position:"+rt(t,"position")+";line-height:0;","%"!==n&&h.appendChild)c[l?"borderLeftWidth":"borderTopWidth"]=i+n;else{if(o=(h=t.parentNode||Q.body)._gsCache,a=f.ticker.frame,o&&l&&o.time===a)return o.width*i/100;c[l?"width":"height"]=i+n}h.appendChild($),r=parseFloat($[l?"offsetWidth":"offsetHeight"]),h.removeChild($),l&&"%"===n&&!1!==q.cacheWidths&&((o=h._gsCache=h._gsCache||{}).time=a,o.width=r/i*100),0!==r||s||(r=ot(t,e,i,n,!0))}return u?-r:r},at=s.calculateOffset=function(t,e,i){if("absolute"!==rt(t,"position",i))return 0;var n="left"===e?"Left":"Top",s=rt(t,"margin"+n,i);return t["offset"+n]-(ot(t,e,parseFloat(s),s.replace(z,""))||0)},lt={width:["Left","Right"],height:["Top","Bottom"]},ht=["marginLeft","marginRight","marginTop","marginBottom"],ct={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ut=q.parseColor=function(t){var e,i,n,s,r,o;return t&&""!==t?"number"==typeof t?[t>>16,t>>8&255,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ct[t]?ct[t]:"#"===t.charAt(0)?(4===t.length&&(t="#"+(e=t.charAt(1))+e+(i=t.charAt(2))+i+(n=t.charAt(3))+n),[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t]):("hsl"===t.substr(0,3)?(t=t.match(D),s=Number(t[0])%360/360,r=Number(t[1])/100,e=2*(o=Number(t[2])/100)-(i=o<=.5?o*(1+r):o+r-o*r),3<t.length&&(t[3]=Number(t[3])),t[0]=l(s+1/3,e,i),t[1]=l(s,e,i),t[2]=l(s-1/3,e,i)):((t=t.match(D)||ct.transparent)[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),3<t.length&&(t[3]=Number(t[3]))),t)):ct.black},ft="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(t in ct)ft+="|"+t+"\\b";ft=new RegExp(ft+")","gi");function pt(t,e,r,o){if(null==t)return function(t){return t};var a,l=e?(t.match(ft)||[""])[0]:"",h=t.split(l).join("").match(M)||[],c=t.substr(0,t.indexOf(h[0])),u=")"===t.charAt(t.length-1)?")":"",f=-1!==t.indexOf(" ")?" ":",",p=h.length,d=0<p?h[0].replace(D,""):"";return p?a=e?function(t){var e,i,n,s;if("number"==typeof t)t+=d;else if(o&&V.test(t)){for(s=t.replace(V,"|").split("|"),n=0;n<s.length;n++)s[n]=a(s[n]);return s.join(",")}if(e=(t.match(ft)||[l])[0],n=(i=t.split(e).join("").match(M)||[]).length,p>n--)for(;++n<p;)i[n]=r?i[(n-1)/2|0]:h[n];return c+i.join(f)+f+e+u+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,i,n;if("number"==typeof t)t+=d;else if(o&&V.test(t)){for(i=t.replace(V,"|").split("|"),n=0;n<i.length;n++)i[n]=a(i[n]);return i.join(",")}if(n=(e=t.match(M)||[]).length,p>n--)for(;++n<p;)e[n]=r?e[(n-1)/2|0]:h[n];return c+e.join(f)+u}:function(t){return t}}function dt(h){return h=h.split(","),function(t,e,i,n,s,r,o){var a,l=(e+"").split(" ");for(o={},a=0;a<4;a++)o[h[a]]=l[a]=l[a]||l[(a-1)/2>>0];return n.parse(t,o,s,r)}}s._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,s,r=this.data,o=r.proxy,a=r.firstMPT;a;)e=o[a.v],a.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),a.t[a.p]=e,a=a._next;if(r.autoRotate&&(r.autoRotate.rotation=o.rotation),1===t)for(a=r.firstMPT;a;){if((i=a.t).type){if(1===i.type){for(s=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)s+=i["xn"+n]+i["xs"+(n+1)];i.e=s}}else i.e=i.s+i.xs0;a=a._next}};var _t=function(t,e,i,n,s){this.t=t,this.p=e,this.v=i,this.r=s,n&&((n._prev=this)._next=n)},gt=(s._parseToProxy=function(t,e,i,n,s,r){var o,a,l,h,c,u=n,f={},p={},d=i._transform,_=K;for(i._transform=null,K=e,n=c=i.parse(t,e,n,s),K=_,r&&(i._transform=d,u&&(u._prev=null,u._prev&&(u._prev._next=null)));n&&n!==u;){if(n.type<=1&&(p[a=n.p]=n.s+n.c,f[a]=n.s,r||(h=new _t(n,"s",a,h,n.r),n.c=0),1===n.type))for(o=n.l;0<--o;)l="xn"+o,p[a=n.p+"_"+l]=n.data[l],f[a]=n[l],r||(h=new _t(n,l,a,h,n.rxp[l]));n=n._next}return{proxy:f,end:p,firstMPT:h,pt:c}},s.CSSPropTween=function(t,e,i,n,s,r,o,a,l,h,c){this.t=t,this.p=e,this.s=i,this.c=n,this.n=o||e,t instanceof gt||p.push(this.n),this.r=a,this.type=r||0,l&&(this.pr=l,d=!0),this.b=void 0===h?i:h,this.e=void 0===c?i+n:c,s&&((this._next=s)._prev=this)}),mt=q.parseComplex=function(t,e,i,n,s,r,o,a,l,h){o=new gt(t,e,0,0,o,h?2:1,null,!1,a,i=i||r||"",n),n+="";var c,u,f,p,d,_,g,m,v,y,b,w,x=i.split(", ").join(",").split(" "),T=n.split(", ").join(",").split(" "),P=x.length,k=!1!==S;for(-1===n.indexOf(",")&&-1===i.indexOf(",")||(x=x.join(" ").replace(V,", ").split(" "),T=T.join(" ").replace(V,", ").split(" "),P=x.length),P!==T.length&&(P=(x=(r||"").split(" ")).length),o.plugin=l,o.setRatio=h,c=0;c<P;c++)if(p=x[c],d=T[c],(m=parseFloat(p))||0===m)o.appendXtra("",m,E(d,m),d.replace(R,""),k&&-1!==d.indexOf("px"),!0);else if(s&&("#"===p.charAt(0)||ct[p]||L.test(p)))w=","===d.charAt(d.length-1)?"),":")",p=ut(p),d=ut(d),(v=6<p.length+d.length)&&!et&&0===d[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(T[c]).join("transparent")):(et||(v=!1),o.appendXtra(v?"rgba(":"rgb(",p[0],d[0]-p[0],",",!0,!0).appendXtra("",p[1],d[1]-p[1],",",!0).appendXtra("",p[2],d[2]-p[2],v?",":w,!0),v&&(p=p.length<4?1:p[3],o.appendXtra("",p,(d.length<4?1:d[3])-p,w,!1)));else if(_=p.match(D)){if(!(g=d.match(R))||g.length!==_.length)return o;for(u=f=0;u<_.length;u++)b=_[u],y=p.indexOf(b,f),o.appendXtra(p.substr(f,y-f),Number(b),E(g[u],b),"",k&&"px"===p.substr(y+b.length,2),0===u),f=y+b.length;o["xs"+o.l]+=p.substr(f)}else o["xs"+o.l]+=o.l?" "+p:p;if(-1!==n.indexOf("=")&&o.data){for(w=o.xs0+o.data.s,c=1;c<o.l;c++)w+=o["xs"+c]+o.data["xn"+c];o.e=w+o["xs"+c]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},vt=9;for((t=gt.prototype).l=t.pr=0;0<--vt;)t["xn"+vt]=0,t["xs"+vt]="";t.xs0="",t._next=t._prev=t.xfirst=t.data=t.plugin=t.setRatio=t.rxp=null,t.appendXtra=function(t,e,i,n,s,r){var o=this,a=o.l;return o["xs"+a]+=r&&a?" "+t:t||"",i||0===a||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",0<a?(o.data["xn"+a]=e+i,o.rxp["xn"+a]=s,o["xn"+a]=e,o.plugin||(o.xfirst=new gt(o,"xn"+a,e,i,o.xfirst||o,0,o.n,s,o.pr),o.xfirst.xs0=0)):(o.data={s:e+i},o.rxp={},o.s=e,o.c=i,o.r=s),o):(o["xs"+a]+=e+(n||""),o)};function yt(t,e){e=e||{},this.p=e.prefix&&k(t)||t,_[t]=_[this.p]=this,this.format=e.formatter||pt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0}function bt(t){var l;_[t]||(l=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin",wt(t,{parser:function(t,e,i,n,s,r,o){var a=h.com.greensock.plugins[l];return a?(a._cssRegister(),_[i].parse(t,e,i,n,s,r,o)):(g("Error: "+l+" js file not loaded."),s)}}))}var wt=s._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,s=t.split(","),r=e.defaultValue;for(i=i||[r],n=0;n<s.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||r,new yt(s[n],e)};(t=yt.prototype).parseComplex=function(t,e,i,n,s,r){var o,a,l,h,c,u=this.keyword;if(this.multi&&(V.test(i)||V.test(e)?(a=e.replace(V,"|").split("|"),l=i.replace(V,"|").split("|")):u&&(a=[e],l=[i])),l){for(h=l.length>a.length?l.length:a.length,o=0;o<h;o++)e=a[o]=a[o]||this.dflt,i=l[o]=l[o]||this.dflt,u&&e.indexOf(u)!==(c=i.indexOf(u))&&((i=-1===c?l:a)[o]+=" "+u);e=a.join(", "),i=l.join(", ")}return mt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,s,r)},t.parse=function(t,e,i,n,s,r,o){return this.parseComplex(t.style,this.format(rt(t,this.p,W,!1,this.dflt)),this.format(e),s,r)},q.registerSpecialProp=function(t,l,h){wt(t,{parser:function(t,e,i,n,s,r,o){var a=new gt(t,i,0,0,s,2,i,!1,h);return a.plugin=r,a.setRatio=l(t,e,n._tween,i),a},priority:h})};function xt(t,e,i){var n,s=Q.createElementNS("http://www.w3.org/2000/svg",t),r=/([a-z])([A-Z])/g;for(n in i)s.setAttributeNS(null,n.replace(r,"$1-$2").toLowerCase(),i[n]);return e.appendChild(s),s}function Tt(t,e,i){var n=t.getBBox();e=b(e).split(" "),i.xOrigin=(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*n.width:parseFloat(e[0]))+n.x,i.yOrigin=(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*n.height:parseFloat(e[1]))+n.y}function Pt(t){var e,i,n=this.data,s=-n.rotation*G,r=s+n.skewX*G,o=1e5,a=(Math.cos(s)*n.scaleX*o|0)/o,l=(Math.sin(s)*n.scaleX*o|0)/o,h=(Math.sin(r)*-n.scaleY*o|0)/o,c=(Math.cos(r)*n.scaleY*o|0)/o,u=this.t.style,f=this.t.currentStyle;if(f){i=l,l=-h,h=-i,e=f.filter,u.filter="";var p=this.t.offsetWidth,d=this.t.offsetHeight,_="absolute"!==f.position,g="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+h+", M22="+c,m=n.x+p*n.xPercent/100,v=n.y+d*n.yPercent/100;if(null!=n.ox&&(m+=(T=(n.oxp?p*n.ox*.01:n.ox)-p/2)-(T*a+(P=(n.oyp?d*n.oy*.01:n.oy)-d/2)*l),v+=P-(T*h+P*c)),g+=_?", Dx="+((T=p/2)-(T*a+(P=d/2)*l)+m)+", Dy="+(P-(T*h+P*c)+v)+")":", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?u.filter=e.replace(Y,g):u.filter=g+" "+e,0!==t&&1!==t||1==a&&0===l&&0===h&&1==c&&(_&&-1===g.indexOf("Dx=0, Dy=0")||N.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&u.removeAttribute("filter")),!_){var y,b,w,x=O<8?1:-1,T=n.ieOffsetX||0,P=n.ieOffsetY||0;for(n.ieOffsetX=Math.round((p-((a<0?-a:a)*p+(l<0?-l:l)*d))/2+m),n.ieOffsetY=Math.round((d-((c<0?-c:c)*d+(h<0?-h:h)*p))/2+v),vt=0;vt<4;vt++)w=(i=-1!==(y=f[b=ht[vt]]).indexOf("px")?parseFloat(y):ot(this.t,b,parseFloat(y),y.replace(z,""))||0)!==n[b]?vt<2?-n.ieOffsetX:-n.ieOffsetY:vt<2?T-n.ieOffsetX:P-n.ieOffsetY,u[b]=(n[b]=Math.round(i-w*(0===vt||2===vt?1:x)))+"px"}}}var kt,Et,St,At,Ct,Ot="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Dt=k("transform"),Rt=it+"transform",Mt=k("transformOrigin"),zt=null!==k("perspective"),Nt=s.Transform=function(){this.perspective=parseFloat(q.defaultTransformPerspective)||0,this.force3D=!(!1===q.defaultForce3D||!zt)&&(q.defaultForce3D||"auto")},It=window.SVGElement,Ft=document.documentElement,Lt=(Ct=O||/Android/i.test(tt)&&!window.chrome,Q.createElementNS&&!Ct&&(Et=xt("svg",Ft),At=(St=xt("rect",Et,{width:100,height:50,x:100})).getBoundingClientRect().width,St.style[Mt]="50% 50%",St.style[Dt]="scaleX(0.5)",Ct=At===St.getBoundingClientRect().width,Ft.removeChild(Et)),Ct),jt=s.getTransform=function(t,e,i,n){if(t._gsTransform&&i&&!n)return t._gsTransform;var s,r,o,a,l,h,c,u,f,p,d,_,g,m,v,y,b,w,x,T,P,k,E,S,A,C,O,D,R,M,z,N,I,F,L,j,B=i&&t._gsTransform||new Nt,X=B.scaleX<0,U=1e5,Y=zt&&(parseFloat(rt(t,Mt,e,!1,"0 0 0").split(" ")[2])||B.zOrigin)||0,V=parseFloat(q.defaultTransformPerspective)||0;if(Dt?r=rt(t,Rt,e,!0):t.currentStyle&&(r=(r=t.currentStyle.filter.match(H))&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),B.x||0,B.y||0].join(","):""),s=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,B.svg=!!(It&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM)),B.svg&&(Tt(t,rt(t,Mt,W,!1,"50% 50%")+"",B),kt=q.useSVGTransformAttr||Lt,o=t.getAttribute("transform"),s&&o&&-1!==o.indexOf("matrix")&&(r=o,s=0)),!s){for(a=(o=(r||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[]).length;-1<--a;)l=Number(o[a]),o[a]=(h=l-(l|=0))?(h*U+(h<0?-.5:.5)|0)/U+l:l;for(a in 16===o.length?(d=o[8],_=o[9],g=o[10],m=o[12],v=o[13],y=o[14],B.zOrigin&&(m=d*(y=-B.zOrigin)-o[12],v=_*y-o[13],y=g*y+B.zOrigin-o[14]),b=o[0],w=o[1],x=o[2],T=o[3],P=o[4],k=o[5],E=o[6],S=o[7],A=o[11],C=Math.atan2(w,k),B.rotation=C*Z,C&&(b=b*(M=Math.cos(-C))+P*(z=Math.sin(-C)),D=w*M+k*z,k=w*-z+k*M,E=x*-z+E*M,w=D),C=Math.atan2(d,b),B.rotationY=C*Z,C&&(D=w*(M=Math.cos(-C))-_*(z=Math.sin(-C)),R=x*M-g*z,_=w*z+_*M,g=x*z+g*M,A=T*z+A*M,b=O=b*M-d*z,w=D,x=R),C=Math.atan2(E,g),B.rotationX=C*Z,C&&(O=P*(M=Math.cos(-C))+d*(z=Math.sin(-C)),D=k*M+_*z,R=E*M+g*z,d=P*-z+d*M,_=k*-z+_*M,g=E*-z+g*M,A=S*-z+A*M,P=O,k=D,E=R),B.scaleX=(Math.sqrt(b*b+w*w)*U+.5|0)/U,B.scaleY=(Math.sqrt(k*k+_*_)*U+.5|0)/U,B.scaleZ=(Math.sqrt(E*E+g*g)*U+.5|0)/U,B.skewX=0,B.perspective=A?1/(A<0?-A:A):0,B.x=m,B.y=v,B.z=y):zt&&!n&&o.length&&B.x===o[4]&&B.y===o[5]&&(B.rotationX||B.rotationY)||void 0!==B.x&&"none"===rt(t,"display",e)||(I=(N=6<=o.length)?o[0]:1,F=o[1]||0,L=o[2]||0,j=N?o[3]:1,B.x=o[4]||0,B.y=o[5]||0,c=Math.sqrt(I*I+F*F),u=Math.sqrt(j*j+L*L),f=I||F?Math.atan2(F,I)*Z:B.rotation||0,p=L||j?Math.atan2(L,j)*Z+f:B.skewX||0,90<Math.abs(p)&&Math.abs(p)<270&&(X?(c*=-1,p+=f<=0?180:-180,f+=f<=0?180:-180):(u*=-1,p+=p<=0?180:-180)),B.scaleX=c,B.scaleY=u,B.rotation=f,B.skewX=p,zt&&(B.rotationX=B.rotationY=B.z=0,B.perspective=V,B.scaleZ=1)),B.zOrigin=Y,B)B[a]<2e-5&&-2e-5<B[a]&&(B[a]=0)}return i&&(t._gsTransform=B),B},Bt=s.set3DTransformRatio=function(t){var e,i,n,s,r,o,a,l,h,c,u,f,p,d,_,g,m,v,y,b,w,x,T,P,k,E=this.data,S=this.t.style,A=E.rotation*G,C=E.scaleX,O=E.scaleY,D=E.scaleZ,R=E.x,M=E.y,z=E.z,N=E.perspective;if(1!==t&&0!==t||"auto"!==E.force3D||E.rotationY||E.rotationX||1!==D||N||z){if(I&&(C<1e-4&&-1e-4<C&&(C=D=2e-5),O<1e-4&&-1e-4<O&&(O=D=2e-5),!N||E.z||E.rotationX||E.rotationY||(N=0)),A||E.skewX)e=v=Math.cos(A),r=y=Math.sin(A),E.skewX&&(A-=E.skewX*G,v=Math.cos(A),y=Math.sin(A),"simple"===E.skewType&&(b=Math.tan(E.skewX*G),v*=b=Math.sqrt(1+b*b),y*=b)),i=-y,o=v;else{if(!(E.rotationY||E.rotationX||1!==D||N||E.svg))return void(S[Dt]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) translate3d(":"translate3d(")+R+"px,"+M+"px,"+z+"px)"+(1!==C||1!==O?" scale("+C+","+O+")":""));e=o=1,i=r=0}u=1,n=s=a=l=h=c=f=p=d=0,_=N?-1/N:0,g=E.zOrigin,m=1e5,k=",",(A=E.rotationY*G)&&(v=Math.cos(A),h=u*-(y=Math.sin(A)),p=_*-y,n=e*y,a=r*y,u*=v,_*=v,e*=v,r*=v),(A=E.rotationX*G)&&(b=i*(v=Math.cos(A))+n*(y=Math.sin(A)),w=o*v+a*y,x=c*v+u*y,T=d*v+_*y,n=i*-y+n*v,a=o*-y+a*v,u=c*-y+u*v,_=d*-y+_*v,i=b,o=w,c=x,d=T),1!==D&&(n*=D,a*=D,u*=D,_*=D),1!==O&&(i*=O,o*=O,c*=O,d*=O),1!==C&&(e*=C,r*=C,h*=C,p*=C),g&&(s=n*(f-=g),l=a*f,f=u*f+g),E.svg&&(s+=E.xOrigin-(E.xOrigin*e+E.yOrigin*i),l+=E.yOrigin-(E.xOrigin*r+E.yOrigin*o)),s=(b=(s+=R)-(s|=0))?(b*m+(b<0?-.5:.5)|0)/m+s:s,l=(b=(l+=M)-(l|=0))?(b*m+(b<0?-.5:.5)|0)/m+l:l,f=(b=(f+=z)-(f|=0))?(b*m+(b<0?-.5:.5)|0)/m+f:f,P=E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix3d(":"matrix3d(",P+=(e*m|0)/m+k+(r*m|0)/m+k+(h*m|0)/m,P+=k+(p*m|0)/m+k+(i*m|0)/m+k+(o*m|0)/m,P+=k+(c*m|0)/m+k+(d*m|0)/m+k+(n*m|0)/m,P+=k+(a*m|0)/m+k+(u*m|0)/m+k+(_*m|0)/m,P+=k+s+k+l+k+f+k+(N?1+-f/N:1)+")",S[Dt]=P}else Xt.call(this,t)},Xt=s.set2DTransformRatio=function(t){var e,i,n,s,r,o,a,l,h,c,u=this.data,f=this.t,p=f.style,d=u.x,_=u.y;!(u.rotationX||u.rotationY||u.z||!0===u.force3D||"auto"===u.force3D&&1!==t&&0!==t)||u.svg&&kt||!zt?(s=u.scaleX,r=u.scaleY,u.rotation||u.skewX||u.svg?(i=(e=u.rotation*G)-u.skewX*G,n=1e5,o=Math.cos(e)*s,a=Math.sin(e)*s,l=Math.sin(i)*-r,h=Math.cos(i)*r,u.svg&&((d+=u.xOrigin-(u.xOrigin*o+u.yOrigin*l))<1e-6&&-1e-6<d&&(d=0),(_+=u.yOrigin-(u.xOrigin*a+u.yOrigin*h))<1e-6&&-1e-6<_&&(_=0)),c=(o*n|0)/n+","+(a*n|0)/n+","+(l*n|0)/n+","+(h*n|0)/n+","+d+","+_+")",u.svg&&kt?f.setAttribute("transform","matrix("+c):p[Dt]=(u.xPercent||u.yPercent?"translate("+u.xPercent+"%,"+u.yPercent+"%) matrix(":"matrix(")+c):p[Dt]=(u.xPercent||u.yPercent?"translate("+u.xPercent+"%,"+u.yPercent+"%) matrix(":"matrix(")+s+",0,0,"+r+","+d+","+_+")"):(this.setRatio=Bt).call(this,t)};(t=Nt.prototype).x=t.y=t.z=t.skewX=t.skewY=t.rotation=t.rotationX=t.rotationY=t.zOrigin=t.xPercent=t.yPercent=0,t.scaleX=t.scaleY=t.scaleZ=1,wt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(t,e,i,n,s,r,o){if(n._lastParsedTransform===o)return s;n._lastParsedTransform=o;var a,l,h,c,u,f,p,d=n._transform=jt(t,W,!0,o.parseTransform),_=t.style,g=Ot.length,m=o,v={};if("string"==typeof m.transform&&Dt)(h=$.style)[Dt]=m.transform,h.display="block",h.position="absolute",Q.body.appendChild($),a=jt($,null,!1),Q.body.removeChild($);else if("object"==typeof m){if(a={scaleX:w(null!=m.scaleX?m.scaleX:m.scale,d.scaleX),scaleY:w(null!=m.scaleY?m.scaleY:m.scale,d.scaleY),scaleZ:w(m.scaleZ,d.scaleZ),x:w(m.x,d.x),y:w(m.y,d.y),z:w(m.z,d.z),xPercent:w(m.xPercent,d.xPercent),yPercent:w(m.yPercent,d.yPercent),perspective:w(m.transformPerspective,d.perspective)},null!=(p=m.directionalRotation))if("object"==typeof p)for(h in p)m[h]=p[h];else m.rotation=p;"string"==typeof m.x&&-1!==m.x.indexOf("%")&&(a.x=0,a.xPercent=w(m.x,d.xPercent)),"string"==typeof m.y&&-1!==m.y.indexOf("%")&&(a.y=0,a.yPercent=w(m.y,d.yPercent)),a.rotation=x("rotation"in m?m.rotation:"shortRotation"in m?m.shortRotation+"_short":"rotationZ"in m?m.rotationZ:d.rotation,d.rotation,"rotation",v),zt&&(a.rotationX=x("rotationX"in m?m.rotationX:"shortRotationX"in m?m.shortRotationX+"_short":d.rotationX||0,d.rotationX,"rotationX",v),a.rotationY=x("rotationY"in m?m.rotationY:"shortRotationY"in m?m.shortRotationY+"_short":d.rotationY||0,d.rotationY,"rotationY",v)),a.skewX=null==m.skewX?d.skewX:x(m.skewX,d.skewX),a.skewY=null==m.skewY?d.skewY:x(m.skewY,d.skewY),(l=a.skewY-d.skewY)&&(a.skewX+=l,a.rotation+=l)}for(zt&&null!=m.force3D&&(d.force3D=m.force3D,f=!0),d.skewType=m.skewType||d.skewType||q.defaultSkewType,(u=d.force3D||d.z||d.rotationX||d.rotationY||a.z||a.rotationX||a.rotationY||a.perspective)||null==m.scale||(a.scaleZ=1);-1<--g;)(1e-6<(c=a[i=Ot[g]]-d[i])||c<-1e-6||null!=m[i]||null!=K[i])&&(f=!0,s=new gt(d,i,d[i],c,s),i in v&&(s.e=v[i]),s.xs0=0,s.plugin=r,n._overwriteProps.push(s.n));return(c=m.transformOrigin)&&d.svg&&(Tt(t,c,a),(s=new gt(d,"xOrigin",d.xOrigin,a.xOrigin-d.xOrigin,s,-1,"transformOrigin")).b=d.xOrigin,s.e=s.xs0=a.xOrigin,(s=new gt(d,"yOrigin",d.yOrigin,a.yOrigin-d.yOrigin,s,-1,"transformOrigin")).b=d.yOrigin,s.e=s.xs0=a.yOrigin,c="0px 0px"),(c||zt&&u&&d.zOrigin)&&(Dt?(f=!0,i=Mt,c=(c||rt(t,i,W,!1,"50% 50%"))+"",(s=new gt(_,i,0,0,s,-1,"transformOrigin")).b=_[i],s.plugin=r,zt?(h=d.zOrigin,c=c.split(" "),d.zOrigin=(2<c.length&&(0===h||"0px"!==c[2])?parseFloat(c[2]):h)||0,s.xs0=s.e=c[0]+" "+(c[1]||"50%")+" 0px",(s=new gt(d,"zOrigin",0,0,s,-1,s.n)).b=h,s.xs0=s.e=d.zOrigin):s.xs0=s.e=c):b(c+"",d)),f&&(n._transformType=d.svg&&kt||!u&&3!==this._transformType?2:3),s},prefix:!0}),wt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),wt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,s,r){e=this.format(e);for(var o,a,l,h,c,u,f,p,d,_,g,m,v=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],y=t.style,b=parseFloat(t.offsetWidth),w=parseFloat(t.offsetHeight),x=e.split(" "),T=0;T<v.length;T++)this.p.indexOf("border")&&(v[T]=k(v[T])),-1!==(l=a=rt(t,v[T],W,!1,"0px")).indexOf(" ")&&(l=(a=l.split(" "))[0],a=a[1]),h=o=x[T],c=parseFloat(l),p=l.substr((c+"").length),""===(f=(d="="===h.charAt(1))?(u=parseInt(h.charAt(0)+"1",10),h=h.substr(2),u*=parseFloat(h),h.substr((u+"").length-(u<0?1:0))||""):(u=parseFloat(h),h.substr((u+"").length)))&&(f=P[i]||p),f!==p&&(_=ot(t,"borderLeft",c,p),g=ot(t,"borderTop",c,p),a="%"===f?(l=_/b*100+"%",g/w*100+"%"):"em"===f?(l=_/(m=ot(t,"borderLeft",1,"em"))+"em",g/m+"em"):(l=_+"px",g+"px"),d&&(h=parseFloat(l)+u+f,o=parseFloat(a)+u+f)),s=mt(y,v[T],l+" "+a,h+" "+o,!1,"0px",s);return s},prefix:!0,formatter:pt("0px 0px 0px 0px",!1,!0)}),wt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,s,r){var o,a,l,h,c,u,f="background-position",p=W||st(t,null),d=this.format((p?O?p.getPropertyValue(f+"-x")+" "+p.getPropertyValue(f+"-y"):p.getPropertyValue(f):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),_=this.format(e);if(-1!==d.indexOf("%")!=(-1!==_.indexOf("%"))&&(u=rt(t,"backgroundImage").replace(X,""))&&"none"!==u){for(o=d.split(" "),a=_.split(" "),J.setAttribute("src",u),l=2;-1<--l;)(h=-1!==(d=o[l]).indexOf("%"))!=(-1!==a[l].indexOf("%"))&&(c=0===l?t.offsetWidth-J.width:t.offsetHeight-J.height,o[l]=h?parseFloat(d)/100*c+"px":parseFloat(d)/c*100+"%");d=o.join(" ")}return this.parseComplex(t.style,d,_,s,r)},formatter:b}),wt("backgroundSize",{defaultValue:"0 0",formatter:b}),wt("perspective",{defaultValue:"0px",prefix:!0}),wt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),wt("transformStyle",{prefix:!0}),wt("backfaceVisibility",{prefix:!0}),wt("userSelect",{prefix:!0}),wt("margin",{parser:dt("marginTop,marginRight,marginBottom,marginLeft")}),wt("padding",{parser:dt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),wt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,s,r){var o,a,l;return e=O<9?(a=t.currentStyle,l=O<8?" ":",",o="rect("+a.clipTop+l+a.clipRight+l+a.clipBottom+l+a.clipLeft+")",this.format(e).split(",").join(l)):(o=this.format(rt(t,this.p,W,!1,this.dflt)),this.format(e)),this.parseComplex(t.style,o,e,s,r)}}),wt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),wt("autoRound,strictUnits",{parser:function(t,e,i,n,s){return s}}),wt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,s,r){return this.parseComplex(t.style,this.format(rt(t,"borderTopWidth",W,!1,"0px")+" "+rt(t,"borderTopStyle",W,!1,"solid")+" "+rt(t,"borderTopColor",W,!1,"#000")),this.format(e),s,r)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ft)||["#000"])[0]}}),wt("borderWidth",{parser:dt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),wt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,s,r){var o=t.style,a="cssFloat"in o?"cssFloat":"styleFloat";return new gt(o,a,0,0,s,-1,i,!1,0,o[a],e)}});function Ut(t){var e,i=this.t,n=i.filter||rt(this.data,"filter")||"",s=this.s+this.c*t|0;100==s&&(e=-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),!rt(this.data,"filter")):(i.filter=n.replace(u,""),!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+s+")"),-1===n.indexOf("pacity")?0==s&&this.xn1||(i.filter=n+" alpha(opacity="+s+")"):i.filter=n.replace(N,"opacity="+s))}wt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,s,r){var o=parseFloat(rt(t,"opacity",W,!1,"1")),a=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),l&&1===o&&"hidden"===rt(t,"visibility",W)&&0!==e&&(o=0),et?s=new gt(a,"opacity",o,e-o,s):((s=new gt(a,"opacity",100*o,100*(e-o),s)).xn1=l?1:0,a.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=t,s.plugin=r,s.setRatio=Ut),l&&((s=new gt(a,"visibility",0,0,s,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",n._overwriteProps.push(s.n),n._overwriteProps.push(i)),s}});function Yt(t,e){e&&(t.removeProperty?("ms"===e.substr(0,2)&&(e="M"+e.substr(1)),t.removeProperty(e.replace(j,"-$1").toLowerCase())):t.removeAttribute(e))}function Vt(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Yt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)}wt("className",{parser:function(t,e,i,n,s,r,o){var a,l,h,c,u,f=t.getAttribute("class")||"",p=t.style.cssText;if((s=n._classNamePT=new gt(t,i,0,0,s,2)).setRatio=Vt,s.pr=-11,d=!0,s.b=f,l=m(t,W),h=t._gsClassPT){for(c={},u=h.data;u;)c[u.p]=1,u=u._next;h.setRatio(1)}return(t._gsClassPT=s).e="="!==e.charAt(1)?e:f.replace(new RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),n._tween._duration&&(t.setAttribute("class",s.e),a=v(t,l,m(t),o,c),t.setAttribute("class",f),s.data=a.firstMPT,t.style.cssText=p,s=s.xfirst=n.parse(t,a.difs,s,r)),s}});function Wt(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,s,r=this.t.style,o=_.transform.parse;if("all"===this.e)s=!(r.cssText="");else for(n=(e=this.e.split(" ").join("").split(",")).length;-1<--n;)i=e[n],_[i]&&(_[i].parse===o?s=!0:i="transformOrigin"===i?Mt:_[i].p),Yt(r,i);s&&(Yt(r,Dt),this.t._gsTransform&&delete this.t._gsTransform)}}for(wt("clearProps",{parser:function(t,e,i,n,s){return(s=new gt(t,i,0,0,s,2)).setRatio=Wt,s.e=e,s.pr=-10,s.data=n._tween,d=!0,s}}),t="bezier,throwProps,physicsProps,physics2D".split(","),vt=t.length;vt--;)bt(t[vt]);(t=q.prototype)._firstPT=t._lastParsedTransform=t._transform=null,t._onInitTween=function(t,e,i){if(!t.nodeType)return!1;this._target=t,this._tween=i,this._vars=e,S=e.autoRound,d=!1,P=e.suffixMap||q.suffixMap,W=st(t,""),p=this._overwriteProps;var n,s,r,o,a,l,h,c,u,f=t.style;if(T&&""===f.zIndex&&("auto"!==(n=rt(t,"zIndex",W))&&""!==n||this._addLazySet(f,"zIndex",0)),"string"==typeof e&&(o=f.cssText,n=m(t,W),f.cssText=o+";"+e,n=v(t,n,m(t)).difs,!et&&F.test(e)&&(n.opacity=parseFloat(RegExp.$1)),e=n,f.cssText=o),this._firstPT=s=this.parse(t,e,null),this._transformType){for(u=3===this._transformType,Dt?A&&(T=!0,""===f.zIndex&&("auto"!==(h=rt(t,"zIndex",W))&&""!==h||this._addLazySet(f,"zIndex",0)),C&&this._addLazySet(f,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(u?"visible":"hidden"))):f.zoom=1,r=s;r&&r._next;)r=r._next;c=new gt(t,"transform",0,0,null,2),this._linkCSSP(c,null,r),c.setRatio=u&&zt?Bt:Dt?Xt:Pt,c.data=this._transform||jt(t,W,!0),p.pop()}if(d){for(;s;){for(l=s._next,r=o;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:a)?s._prev._next=s:o=s,(s._next=r)?r._prev=s:a=s,s=l}this._firstPT=o}return!0},t.parse=function(t,e,i,n){var s,r,o,a,l,h,c,u,f,p,d=t.style;for(s in e)h=e[s],(r=_[s])?i=r.parse(t,h,s,this,i,n,e):(l=rt(t,s,W)+"",f="string"==typeof h,"color"===s||"fill"===s||"stroke"===s||-1!==s.indexOf("Color")||f&&L.test(h)?(f||(h=(3<(h=ut(h)).length?"rgba(":"rgb(")+h.join(",")+")"),i=mt(d,s,l,h,!0,"transparent",i,0,n)):!f||-1===h.indexOf(" ")&&-1===h.indexOf(",")?(c=(o=parseFloat(l))||0===o?l.substr((o+"").length):"",""!==l&&"auto"!==l||(c="width"===s||"height"===s?(o=y(t,s,W),"px"):"left"===s||"top"===s?(o=at(t,s,W),"px"):(o="opacity"!==s?0:1,"")),""===(u=(p=f&&"="===h.charAt(1))?(a=parseInt(h.charAt(0)+"1",10),h=h.substr(2),a*=parseFloat(h),h.replace(z,"")):(a=parseFloat(h),f&&h.substr((a+"").length)||""))&&(u=s in P?P[s]:c),h=a||0===a?(p?a+o:a)+u:e[s],c!==u&&""!==u&&(a||0===a)&&o&&(o=ot(t,s,o,c),"%"===u?(o/=ot(t,s,100,"%")/100,!0!==e.strictUnits&&(l=o+"%")):"em"===u?o/=ot(t,s,1,"em"):"px"!==u&&(a=ot(t,s,a,u),u="px"),p&&(!a&&0!==a||(h=a+o+u))),p&&(a+=o),!o&&0!==o||!a&&0!==a?void 0!==d[s]&&(h||h+""!="NaN"&&null!=h)?(i=new gt(d,s,a||o||0,0,i,-1,s,!1,0,l,h)).xs0="none"!==h||"display"!==s&&-1===s.indexOf("Style")?h:l:g("invalid "+s+" tween value: "+e[s]):(i=new gt(d,s,o,a-o,i,0,s,!1!==S&&("px"===u||"zIndex"===s),0,l,h)).xs0=u):i=mt(d,s,l,h,!0,null,i,0,n)),n&&i&&!i.plugin&&(i.plugin=n);return i},t.setRatio=function(t){var e,i,n,s=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;s;){if(e=s.c*t+s.s,s.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),s.type)if(1===s.type)if(2===(n=s.l))s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2;else if(3===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3;else if(4===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4;else if(5===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4+s.xn4+s.xs5;else{for(i=s.xs0+e+s.xs1,n=1;n<s.l;n++)i+=s["xn"+n]+s["xs"+(n+1)];s.t[s.p]=i}else-1===s.type?s.t[s.p]=s.xs0:s.setRatio&&s.setRatio(t);else s.t[s.p]=e+s.xs0;s=s._next}else for(;s;)2!==s.type?s.t[s.p]=s.b:s.setRatio(t),s=s._next;else for(;s;)2!==s.type?s.t[s.p]=s.e:s.setRatio(t),s=s._next},t._enableTransforms=function(t){this._transform=this._transform||jt(this._target,W,!0),this._transformType=this._transform.svg&&kt||!t&&3!==this._transformType?2:3};function qt(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)}t._addLazySet=function(t,e,i){var n=this._firstPT=new gt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=qt,n.data=this},t._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},t._kill=function(t){var e,i,n,s=t;if(t.autoAlpha||t.alpha){for(i in s={},t)s[i]=t[i];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return t.className&&(e=this._classNamePT)&&((n=e.xfirst)&&n._prev?this._linkCSSP(n._prev,e._next,n._prev._prev):n===this._firstPT&&(this._firstPT=e._next),e._next&&this._linkCSSP(e._next,e._next._next,n._prev),this._classNamePT=null),r.prototype._kill.call(this,s)};var Ht=function(t,e,i){var n,s,r,o;if(t.slice)for(s=t.length;-1<--s;)Ht(t[s],e,i);else for(s=(n=t.childNodes).length;-1<--s;)o=(r=n[s]).type,r.style&&(e.push(m(r)),i&&i.push(r)),1!==o&&9!==o&&11!==o||!r.childNodes.length||Ht(r,e,i)};return q.cascadeTo=function(t,e,i){var n,s,r,o=f.to(t,e,i),a=[o],l=[],h=[],c=[],u=f._internals.reservedProps;for(t=o._targets||o.target,Ht(t,l,c),o.render(e,!0),Ht(t,h),o.render(0,!0),o._enabled(!0),n=c.length;-1<--n;)if((s=v(c[n],l[n],h[n])).firstMPT){for(r in s=s.difs,i)u[r]&&(s[r]=i[r]);a.push(f.to(c[n],e,s))}return a},r.activate([q]),q},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(){"use strict";function t(){return(_gsScope.GreenSockGlobals||_gsScope).CSSPlugin}"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}(),function(f){"use strict";var p=f.GreenSockGlobals=f.GreenSockGlobals||f;if(!p.TweenLite){var d,e,i,_=function(t){for(var e=t.split("."),i=p,n=0;n<e.length;n++)i[e[n]]=i=i[e[n]]||{};return i},u=_("com.greensock"),g=1e-10,l=function(t){for(var e=[],i=t.length,n=0;n!==i;e.push(t[n++]));return e},n=function(){},m=(e=Object.prototype.toString,i=e.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&e.call(t)===i)}),v={},y=function(a,l,h,c){this.sc=v[a]?v[a].sc:[],(v[a]=this).gsClass=null,this.func=h;var u=[];this.check=function(t){for(var e,i,n,s,r=l.length,o=r;-1<--r;)(e=v[l[r]]||new y(l[r],[])).gsClass?(u[r]=e.gsClass,o--):t&&e.sc.push(this);if(0===o&&h)for(n=(i=("com.greensock."+a).split(".")).pop(),s=_(i.join("."))[n]=this.gsClass=h.apply(h,u),c&&(p[n]=s,"function"==typeof define&&define.amd?define((f.GreenSockAMDPath?f.GreenSockAMDPath+"/":"")+a.split(".").pop(),[],function(){return s}):"TweenLite"===a&&"undefined"!=typeof module&&module.exports&&(module.exports=s)),r=0;r<this.sc.length;r++)this.sc[r].check()},this.check(!0)},s=f._gsDefine=function(t,e,i,n){return new y(t,e,i,n)},b=u._class=function(t,e,i){return e=e||function(){},s(t,[],function(){return e},i),e};s.globals=p;var t,r=[0,0,1,1],w=[],c=b("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?r.concat(e):r},!0),x=c.map={},o=c.register=function(t,e,i,n){for(var s,r,o,a,l=e.split(","),h=l.length,c=(i||"easeIn,easeOut,easeInOut").split(",");-1<--h;)for(r=l[h],s=n?b("easing."+r,null,!0):u.easing[r]||{},o=c.length;-1<--o;)a=c[o],x[r+"."+a]=x[a+r]=s[a]=t.getRatio?t:t[a]||new t};for((t=c.prototype)._calcEnd=!1,t.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},h=(a=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--h;)t=a[h]+",Power"+h,o(new c(null,null,1,h),t,"easeOut",!0),o(new c(null,null,2,h),t,"easeIn"+(0===h?",easeNone":"")),o(new c(null,null,3,h),t,"easeInOut");x.linear=u.easing.Linear.easeIn,x.swing=u.easing.Quad.easeInOut;var T=b("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(t=T.prototype).addEventListener=function(t,e,i,n,s){s=s||0;var r,o,a=this._listeners[t],l=0;for(null==a&&(this._listeners[t]=a=[]),o=a.length;-1<--o;)(r=a[o]).c===e&&r.s===i?a.splice(o,1):0===l&&r.pr<s&&(l=o+1);a.splice(l,0,{c:e,s:i,up:n,pr:s}),this!==C||d||C.wake()},t.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;-1<--i;)if(n[i].c===e)return void n.splice(i,1)},t.dispatchEvent=function(t){var e,i,n,s=this._listeners[t];if(s)for(e=s.length,i=this._eventTarget;-1<--e;)(n=s[e])&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};for(var a,P=f.requestAnimationFrame,k=f.cancelAnimationFrame,E=Date.now||function(){return(new Date).getTime()},S=E(),h=(a=["ms","moz","webkit","o"]).length;-1<--h&&!P;)P=f[a[h]+"RequestAnimationFrame"],k=f[a[h]+"CancelAnimationFrame"]||f[a[h]+"CancelRequestAnimationFrame"];b("Ticker",function(t,e){var s,r,o,a,l,h=this,c=E(),i=!1!==e&&P,u=500,f=33,p=function(t){var e,i,n=E()-S;u<n&&(c+=n-f),S+=n,h.time=(S-c)/1e3,e=h.time-l,(!s||0<e||!0===t)&&(h.frame++,l+=e+(a<=e?.004:a-e),i=!0),!0!==t&&(o=r(p)),i&&h.dispatchEvent("tick")};T.call(h),h.time=h.frame=0,h.tick=function(){p(!0)},h.lagSmoothing=function(t,e){u=t||1e10,f=Math.min(e,u,0)},h.sleep=function(){null!=o&&((i&&k?k:clearTimeout)(o),r=n,o=null,h===C&&(d=!1))},h.wake=function(){null!==o?h.sleep():10<h.frame&&(S=E()-u+5),r=0===s?n:i&&P?P:function(t){return setTimeout(t,1e3*(l-h.time)+1|0)},h===C&&(d=!0),p(2)},h.fps=function(t){if(!arguments.length)return s;a=1/((s=t)||60),l=this.time+a,h.wake()},h.useRAF=function(t){if(!arguments.length)return i;h.sleep(),i=t,h.fps(s)},h.fps(t),setTimeout(function(){i&&(!o||h.frame<5)&&h.useRAF(!1)},1500)}),(t=u.Ticker.prototype=new u.events.EventDispatcher).constructor=u.Ticker;var A=b("core.Animation",function(t,e){var i;this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,Y&&(d||C.wake(),(i=this.vars.useFrames?U:Y).add(this,i._time),this.vars.paused&&this.paused(!0))}),C=A.ticker=new u.Ticker;(t=A.prototype)._dirty=t._gc=t._initted=t._paused=!1,t._totalTime=t._time=0,t._rawPrevTime=-1,t._next=t._last=t._onUpdate=t._timeline=t.timeline=null,t._paused=!1;var O=function(){d&&2e3<E()-S&&C.wake(),setTimeout(O,2e3)};O(),t.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},t.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},t.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},t.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},t.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},t.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},t.render=function(t,e,i){},t.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},t.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},t._enabled=function(t,e){return d||C.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},t._kill=function(t,e){return this._enabled(!1,!1)},t.kill=function(t,e){return this._kill(t,e),this},t._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},t._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();-1<--e;)"{self}"===t[e]&&(i[e]=this);return i},t.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var s=this.vars;if(1===arguments.length)return s[t];null==e?delete s[t]:(s[t]=e,s[t+"Params"]=m(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,s[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},t.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},t.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},t.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},t.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},t.totalTime=function(t,e,i){if(d||C.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,s=this._timeline;if(n<t&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:s._time)-(this._reversed?n-t:t)/this._timeScale,s._dirty||this._uncache(!1),s._timeline)for(;s._timeline;)s._timeline._time!==(s._startTime+s._totalTime)/s._timeScale&&s.totalTime(s._totalTime,!0),s=s._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(this.render(t,e,!1),z.length&&V())}return this},t.progress=t.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},t.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},t.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},t.timeScale=function(t){return arguments.length?(t=t||g,this._timeline&&this._timeline.smoothChildTiming&&(i=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,this._uncache(!1)):this._timeScale;var e,i},t.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},t.paused=function(t){return arguments.length?(t!=this._paused&&this._timeline&&(d||t||C.wake(),n=(i=(e=this._timeline).rawTime())-this._pauseTime,!t&&e.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?i:null,this._paused=t,this._active=this.isActive(),!t&&0!=n&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)),this._gc&&!t&&this._enabled(!0,!1),this):this._paused;var e,i,n};var D=b("core.SimpleTimeline",function(t){A.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(t=D.prototype=new A).constructor=D,t.kill()._gc=!1,t._first=t._last=t._recent=null,t._sortChildren=!1,t.add=t.insert=function(t,e,i,n){var s,r;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),s=this._last,this._sortChildren)for(r=t._startTime;s&&s._startTime>r;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=s,this._recent=t,this._timeline&&this._uncache(!0),this},t._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},t.render=function(t,e,i){var n,s=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;s;)n=s._next,(s._active||t>=s._startTime&&!s._paused)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=n},t.rawTime=function(){return d||C.wake(),this._totalTime};var R=b("TweenLite",function(t,e,i){if(A.call(this,e,i),this.render=R.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"==typeof t&&R.selector(t)||t;var n,s,r,o=t.jquery||t.length&&t!==f&&t[0]&&(t[0]===f||t[0].nodeType&&t[0].style&&!t.nodeType),a=this.vars.overwrite;if(this._overwrite=a=null==a?X[R.defaultOverwrite]:"number"==typeof a?a>>0:X[a],(o||t instanceof Array||t.push&&m(t))&&"number"!=typeof t[0])for(this._targets=r=l(t),this._propLookup=[],this._siblings=[],n=0;n<r.length;n++)(s=r[n])?"string"!=typeof s?s.length&&s!==f&&s[0]&&(s[0]===f||s[0].nodeType&&s[0].style&&!s.nodeType)?(r.splice(n--,1),this._targets=r=r.concat(l(s))):(this._siblings[n]=W(s,this,!1),1===a&&1<this._siblings[n].length&&H(s,this,null,1,this._siblings[n])):"string"==typeof(s=r[n--]=R.selector(s))&&r.splice(n+1,1):r.splice(n--,1);else this._propLookup={},this._siblings=W(t,this,!1),1===a&&1<this._siblings.length&&H(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-g,this.render(-this._delay))},!0),M=function(t){return t&&t.length&&t!==f&&t[0]&&(t[0]===f||t[0].nodeType&&t[0].style&&!t.nodeType)};(t=R.prototype=new A).constructor=R,t.kill()._gc=!1,t.ratio=0,t._firstPT=t._targets=t._overwrittenProps=t._startAt=null,t._notifyPluginsOfEnabled=t._lazy=!1,R.version="1.15.0",R.defaultEase=t._ease=new c(null,null,1,1),R.defaultOverwrite="auto",R.ticker=C,R.autoSleep=!0,R.lagSmoothing=function(t,e){C.lagSmoothing(t,e)},R.selector=f.$||f.jQuery||function(t){var e=f.$||f.jQuery;return e?(R.selector=e)(t):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var z=[],N={},I=R._internals={isArray:m,isSelector:M,lazyTweens:z},F=R._plugins={},L=I.tweenLookup={},j=0,B=I.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},U=A._rootFramesTimeline=new D,Y=A._rootTimeline=new D,V=I.lazyRender=function(){var t,e=z.length;for(N={};-1<--e;)(t=z[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);z.length=0};Y._startTime=C.time,U._startTime=C.frame,Y._active=U._active=!0,setTimeout(V,1),A._updateRoot=R.render=function(){var t,e,i;if(z.length&&V(),Y.render((C.time-Y._startTime)*Y._timeScale,!1,!1),U.render((C.frame-U._startTime)*U._timeScale,!1,!1),z.length&&V(),!(C.frame%120)){for(i in L){for(t=(e=L[i].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete L[i]}if((!(i=Y._first)||i._paused)&&R.autoSleep&&!U._first&&1===C._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||C.sleep()}}},C.addEventListener("tick",A._updateRoot);var W=function(t,e,i){var n,s,r=t._gsTweenID;if(L[r||(t._gsTweenID=r="t"+j++)]||(L[r]={target:t,tweens:[]}),e&&((n=L[r].tweens)[s=n.length]=e,i))for(;-1<--s;)n[s]===e&&n.splice(s,1);return L[r].tweens},q=function(t,e,i,n){var s,r,o=t.vars.onOverwrite;return o&&(s=o(t,e,i,n)),(o=R.onOverwrite)&&(r=o(t,e,i,n)),!1!==s&&!1!==r},H=function(t,e,i,n,s){var r,o,a;if(1===n||4<=n){for(a=s.length,p=0;p<a;p++)if((o=s[p])!==e)o._gc||q(o,e)&&o._enabled(!1,!1)&&(r=!0);else if(5===n)break;return r}for(var l,h=e._startTime+g,c=[],u=0,f=0===e._duration,p=s.length;-1<--p;)(o=s[p])===e||o._gc||o._paused||(o._timeline!==e._timeline?(l=l||G(e,0,f),0===G(o,l,f)&&(c[u++]=o)):o._startTime<=h&&o._startTime+o.totalDuration()/o._timeScale>h&&((f||!o._initted)&&h-o._startTime<=2e-10||(c[u++]=o)));for(p=u;-1<--p;)if(o=c[p],2===n&&o._kill(i,t,e)&&(r=!0),2!==n||!o._firstPT&&o._initted){if(2!==n&&!q(o,e))continue;o._enabled(!1,!1)&&(r=!0)}return r},G=function(t,e,i){for(var n=t._timeline,s=n._timeScale,r=t._startTime;n._timeline;){if(r+=n._startTime,s*=n._timeScale,n._paused)return-100;n=n._timeline}return e<(r/=s)?r-e:i&&r===e||!t._initted&&r-e<2*g?g:(r+=t.totalDuration()/t._timeScale/s)>e+g?0:r-e-g};t._init=function(){var t,e,i,n,s,r=this.vars,o=this._overwrittenProps,a=this._duration,l=!!r.immediateRender,h=r.ease;if(r.startAt){for(n in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),s={},r.startAt)s[n]=r.startAt[n];if(s.overwrite=!1,s.immediateRender=!0,s.lazy=l&&!1!==r.lazy,s.startAt=s.delay=null,this._startAt=R.to(this.target,0,s),l)if(0<this._time)this._startAt=null;else if(0!==a)return}else if(r.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(n in 0!==this._time&&(l=!1),i={},r)B[n]&&"autoCSS"!==n||(i[n]=r[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&!1!==r.lazy,i.immediateRender=l,this._startAt=R.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof c?h:"function"==typeof h?new c(h,r.easeParams):x[h]||R.defaultEase:R.defaultEase,r.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,r.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;-1<--t;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o);if(e&&R._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),r.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=r.onUpdate,this._initted=!0},t._initProps=function(t,e,i,n){var s,r,o,a,l,h;if(null==t)return!1;for(s in N[t._gsTweenID]&&V(),this.vars.css||t.style&&t!==f&&t.nodeType&&F.css&&!1!==this.vars.autoCSS&&function(t,e){var i,n={};for(i in t)B[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!F[i]||F[i]&&F[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n}(this.vars,t),this.vars){if(h=this.vars[s],B[s])h&&(h instanceof Array||h.push&&m(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[s]=h=this._swapSelfInParams(h,this));else if(F[s]&&(a=new F[s])._onInitTween(t,this.vars[s],this)){for(this._firstPT=l={_next:this._firstPT,t:a,p:"setRatio",s:0,c:1,f:!0,n:s,pg:!0,pr:a._priority},r=a._overwriteProps.length;-1<--r;)e[a._overwriteProps[r]]=this._firstPT;(a._priority||a._onInitAllProps)&&(o=!0),(a._onDisable||a._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=e[s]=l={_next:this._firstPT,t:t,p:s,f:"function"==typeof t[s],n:s,pg:!1,pr:0},l.s=l.f?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(t[s]),l.c="string"==typeof h&&"="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*Number(h.substr(2)):Number(h)-l.s||0;l&&l._next&&(l._next._prev=l)}return n&&this._kill(n,t)?this._initProps(t,e,i,n):1<this._overwrite&&this._firstPT&&1<i.length&&H(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,n)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(N[t._gsTweenID]=!0),o)},t.render=function(t,e,i){var n,s,r,o,a,l,h,c=this._time,u=this._duration,f=this._rawPrevTime;if(u<=t?(this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,s="onComplete"),0===u&&(!this._initted&&this.vars.lazy&&!i||(this._startTime===this._timeline._duration&&(t=0),(0===t||f<0||f===g&&"isPause"!==this.data)&&f!==t&&(i=!0,g<f&&(s="onReverseComplete")),this._rawPrevTime=o=!e||t||f===t?t:g))):t<1e-7?(this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==c||0===u&&0<f&&f!==g)&&(s="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===u&&(!this._initted&&this.vars.lazy&&!i||(0<=f&&(f!==g||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=o=!e||t||f===t?t:g))),this._initted||(i=!0)):(this._totalTime=this._time=t,this._easeType?(a=t/u,(1===(l=this._easeType)||3===l&&.5<=a)&&(a=1-a),3===l&&(a*=2),1===(h=this._easePower)?a*=a:2===h?a*=a*a:3===h?a*=a*a*a:4===h&&(a*=a*a*a*a),this.ratio=1===l?1-a:2===l?a:t/u<.5?a/2:1-a/2):this.ratio=this._ease.getRatio(t/u)),this._time!==c||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=c,this._rawPrevTime=f,z.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/u):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==c&&0<=t&&(this._active=!0),0===c&&(this._startAt&&(0<=t?this._startAt.render(t,e,i):s=s||"_dummyGS"),this.vars.onStart&&(0===this._time&&0!==u||e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||w))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,e,i),e||this._time===c&&!n||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||w)),s&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this.vars[s].apply(this.vars[s+"Scope"]||this,this.vars[s+"Params"]||w),0===u&&this._rawPrevTime===g&&o!==g&&(this._rawPrevTime=0)))}},t._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);var n,s,r,o,a,l,h,c,u;if(e="string"!=typeof e?e||this._targets||this.target:R.selector(e)||e,(m(e)||M(e))&&"number"!=typeof e[0])for(n=e.length;-1<--n;)this._kill(t,e[n])&&(l=!0);else{if(this._targets){for(n=this._targets.length;-1<--n;)if(e===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],s=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,s=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(h=t||a,c=t!==s&&"all"!==s&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(R.onOverwrite||this.vars.onOverwrite)){for(r in h)a[r]&&(u=u||[]).push(r);if(!q(this,i,e,u))return!1}for(r in h)(o=a[r])&&(o.pg&&o.t._kill(h)&&(l=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete a[r]),c&&(s[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},t.invalidate=function(){return this._notifyPluginsOfEnabled&&R._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],A.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-g,this.render(-this._delay)),this},t._enabled=function(t,e){if(d||C.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;-1<--i;)this._siblings[i]=W(n[i],this,!0);else this._siblings=W(this.target,this,!0)}return A.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&R._onPluginEvent(t?"_onEnable":"_onDisable",this)},R.to=function(t,e,i){return new R(t,e,i)},R.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new R(t,e,i)},R.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new R(t,e,n)},R.delayedCall=function(t,e,i,n,s){return new R(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:n,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,lazy:!1,useFrames:s,overwrite:0})},R.set=function(t,e){return new R(t,0,e)},R.getTweensOf=function(t,e){if(null==t)return[];var i,n,s,r;if(t="string"==typeof t&&R.selector(t)||t,(m(t)||M(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];-1<--i;)n=n.concat(R.getTweensOf(t[i],e));for(i=n.length;-1<--i;)for(r=n[i],s=i;-1<--s;)r===n[s]&&n.splice(i,1)}else for(i=(n=W(t).concat()).length;-1<--i;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},R.killTweensOf=R.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=R.getTweensOf(t,e),s=n.length;-1<--s;)n[s]._kill(i,t)};var Z=b("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=Z.prototype},!0);if(t=Z.prototype,Z.version="1.10.1",Z.API=2,t._firstPT=null,t._addTween=function(t,e,i,n,s,r){var o,a;if(null!=n&&(o="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2))))return this._firstPT=a={_next:this._firstPT,t:t,p:e,s:i,c:o,f:"function"==typeof t[e],n:s||e,r:r},a._next&&(a._next._prev=a),a},t.setRatio=function(t){for(var e,i=this._firstPT;i;)e=i.c*t+i.s,i.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},t._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;-1<--e;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},t._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},R._onPluginEvent=function(t,e){var i,n,s,r,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,n=s;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:r)?a._prev._next=a:s=a,(a._next=n)?n._prev=a:r=a,a=o}a=e._firstPT=s}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},Z.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===Z.API&&(F[(new t[e])._propName]=t[e]);return!0},s.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,s=t.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=b("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){Z.call(this,i,n),this._overwriteProps=s||[]},!0===t.global),a=o.prototype=new Z(i);for(e in(a.constructor=o).API=t.API,r)"function"==typeof t[e]&&(a[r[e]]=t[e]);return o.version=t.version,Z.activate([o]),o},a=f._gsQueue){for(h=0;h<a.length;h++)a[h]();for(t in v)v[t].func||f.console.log("GSAP encountered missing dependency: com.greensock."+t)}d=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window),((_gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window)._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";function r(t,e){var i="x"===e?"Width":"Height",n="scroll"+i,s="client"+i,r=document.body;return t===a||t===o||t===r?Math.max(o[n],r[n])-(a["inner"+i]||Math.max(o[s],r[s])):t[n]-t["offset"+i]}var o=document.documentElement,a=window,t=_gsScope._gsDefine.plugin({propName:"scrollTo",API:2,version:"1.7.4",init:function(t,e,i){return this._wdw=t===a,this._target=t,this._tween=i,"object"!=typeof e&&(e={y:e}),this.vars=e,this._autoKill=!1!==e.autoKill,this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=e.x?(this._addTween(this,"x",this.x,"max"===e.x?r(t,"x"):e.x,"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=e.y?(this._addTween(this,"y",this.y,"max"===e.y?r(t,"y"):e.y,"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(t){this._super.setRatio.call(this,t);var e=this._wdw||!this.skipX?this.getX():this.xPrev,i=this._wdw||!this.skipY?this.getY():this.yPrev,n=i-this.yPrev,s=e-this.xPrev;this._autoKill&&(!this.skipX&&(7<s||s<-7)&&e<r(this._target,"x")&&(this.skipX=!0),!this.skipY&&(7<n||n<-7)&&i<r(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?a.scrollTo(this.skipX?e:this.x,this.skipY?i:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),e=t.prototype;t.max=r,e.getX=function(){return this._wdw?null!=a.pageXOffset?a.pageXOffset:null!=o.scrollLeft?o.scrollLeft:document.body.scrollLeft:this._target.scrollLeft},e.getY=function(){return this._wdw?null!=a.pageYOffset?a.pageYOffset:null!=o.scrollTop?o.scrollTop:document.body.scrollTop:this._target.scrollTop},e._kill=function(t){return t.scrollTo_x&&(this.skipX=!0),t.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,t)}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),modules.define("y-debounce",function(t){t(function(n,s,r){var o,a=null;return function(){var t=this,e=arguments,i=r&&!a;return clearTimeout(a),a=setTimeout(function(){a=null,r||(o=n.apply(t,e))},s),i&&(o=n.apply(t,e)),o}})}),modules.define("chitalka-fb2-parser",["chitalka","jquery","inherit","y-extend","unzip"],function(t,e,c,i,n,s){var r=window.DOMParser?function(t){return(new window.DOMParser).parseFromString(t,"text/xml")}:void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(t){var e=new window.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}:function(){return null};t({unzip:function(t,i){var n=c.Deferred(),e=/^data:/.test(t);return s.workerScriptsPath=(!(window.location.pathname.indexOf('/', 1) > 0) ? window.location.origin + '/' : window.location.origin + window.location.pathname) + "static/",s.createReader(e?new s.Data64URIReader(t):new s.HttpReader(t),function(e){e.getEntries(function(t){t.length&&t[0].getData(new s.TextWriter(i),function(t){e.close(function(){n.resolve(t)})},function(){})})},function(t){n.reject(t)}),n.promise()},getXml:function(t){var e=c.Deferred(),i=r(t);return e.resolve(i),e.promise()},readFile:function(t){var e=t.file?t.result:t;return/^data:/.test(e)?this._readAsDataUri(t):/(\.zip)$/i.test(e)?this.unzip(e):c.ajax({url:e,dataType:"text",contentType:"text/plain",timeout:2e3})},_readAsDataUri:function(t){var e=t.file,n=e?t.result:t,i=n.split(",")[0],s=n.substring(n.indexOf(",")+1),r=/encoding=\"UTF\-8\"/;if(0<i.indexOf("zip"))return this.unzip(n).then(function(t){if(r.test(t)){var e=c.Deferred();return e.resolve(t),e.promise()}var i=/encoding="([^"]+)"/.exec(t)[1];return this.unzip(n,i)}.bind(this));var o=c.Deferred(),s=window.atob(s);if(r.test(s))try{var a=decodeURIComponent(escape(s));o.resolve(a)}catch(t){o.reject(t)}else{var l,h=/encoding="([^"]+)"/.exec(s);!h||!Array.isArray(h)||1<h.length?o.reject("файл повреждён или книга неподдерживаемого формата"):(h=h[1],(l=new FileReader).readAsText(e,h),l.onloadend=function(){o.resolve(l.result)})}return o.promise()}})}),modules.define("y-next-tick",function(t){function i(t){return 1===s.push(t)}function n(){var t=s,e=0,i=s.length;for(s=[];e<i;)t[e++]()}var e=this.global,s=[];if("object"==typeof process&&process.nextTick)return t(function(t){i(t)&&process.nextTick(n)});if(e.setImmediate)return t(function(t){i(t)&&e.setImmediate(n)});if(e.postMessage){var r,o=!0;if(e.attachEvent&&(r=function(){o=!1},e.attachEvent("onmessage",r),e.postMessage("__checkAsync","*"),e.detachEvent("onmessage",r)),o){function a(t){t.data===l&&(t.stopPropagation&&t.stopPropagation(),n())}var l="__nextTick"+ +new Date;return e.addEventListener?e.addEventListener("message",a,!0):e.attachEvent("onmessage",a),t(function(t){i(t)&&e.postMessage(l,"*")})}}var h=e.document;if("onreadystatechange"in h.createElement("script")){return t(function(t){var e;i(t)&&((e=h.createElement("script")).onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,n()},(h.documentElement||h.body).appendChild(e))})}t(function(t){i(t)&&setTimeout(n,0)})}),modules.define("file-drag",["y-block","jquery","y-extend","inherit"],function(t,e,i,n,s){t(s(e,{__constructor:function(t){this.__base.apply(this,arguments),t&&(this._bindTo(t,"dragstart",this._onDragOver.bind(this)),this._bindTo(t,"dragenter",this._onDragOver.bind(this)),this._bindTo(t,"dragover",this._onDragOver.bind(this)),this._bindTo(t,"dragleave",this._onDragEnd.bind(this)),this._bindTo(t,"dragend",this._onDragEnd.bind(this)),this._bindTo(t,"drop",this._onDrop.bind(this)))},_onDragEnd:function(t){this._stopEvent(t),this._drag=!1,setTimeout(function(){this._drag||this.emit("hide-drag")}.bind(this),100)},_onDragOver:function(t){this._stopEvent(t),this._drag=!0,this.emit("show-drag")},_onDrop:function(t){this._stopEvent(t),this.emit("hide-drag");var i,e,n=t.originalEvent.dataTransfer.files;0<n.length&&void 0!==window.FormData&&n[0]&&(this.emit("file-dropped"),i=n[0],(e=new FileReader).onload=function(t){var e=t.target.result;this.emit("file-loaded",{result:e,file:i})}.bind(this),e.readAsDataURL(i))},_stopEvent:function(t){t.stopPropagation(),t.preventDefault()}},{getBlockName:function(){return"file-drag"}}))}),modules.define("controls",["y-block","jquery","y-extend","inherit"],function(t,e,i,n,s){t(s(e,{__constructor:function(){this.__base.apply(this,arguments);var t=this._findElement("menu"),e=n({zoom:!1,swipeLength:20},this._getOptions());this._trigger=this._findElement("trigger"),this._bindTo(this._trigger,"click",function(){this._toggleElementState(t,"state","opened","closed")}),e.zoom&&this._initZoomControls(),e.footnotes&&this._initFootnotes(),e.pages&&this._initPageModes(),e.arrows&&this._initArrowControls()},_initArrowControls:function(){this.arrowLeft=this._findElement("arrow-left"),this.arrowRight=this._findElement("arrow-right"),this._bindTo(this.arrowRight,"click",function(){this.emit("next-page")}),this._bindTo(this.arrowLeft,"click",function(){this.emit("previous-page")})},_initZoomControls:function(){this._bindTo(this._findElement("plus"),"click",function(){this.emit("zoom-in")}),this._bindTo(this._findElement("minus"),"click",function(){this.emit("zoom-out")})},_initFootnotes:function(){this._bindTo(this._findElement("footnotes"),"click",function(t){this._toggleElementState(i(t.currentTarget),"mode","appendix","inline"),this.emit("footnotes-"+this._getElementState(i(t.currentTarget),"mode"))})},setFootnotesMode:function(t){this._setElementState(this._findElement("footnotes"),"mode",t)},_initPageModes:function(){var t=this._findElement("pages"),e=["auto","one","two"];this._pageMode=e.indexOf(this._getElementState(t,"mode")),this._bindTo(t,"click",function(){this._pageMode=(this._pageMode+1)%3,this._setElementState(t,"mode",e[this._pageMode]),this.emit("pages-"+this._getElementState(t,"mode"))})},setPageViewMode:function(t){var e=this._findElement("pages");this._setElementState(e,"mode",t),this._pageMode=["auto","one","two"].indexOf(t)},resetZoomButtons:function(){this._removeElementState(this._findElement("plus"),"disabled"),this._removeElementState(this._findElement("minus"),"disabled")},disableZoomIn:function(){this._setElementState(this._findElement("plus"),"disabled")},disableZoomOut:function(){this._setElementState(this._findElement("minus"),"disabled")},resetArrows:function(){this._removeElementState(this.arrowLeft,"disabled"),this._removeElementState(this.arrowRight,"disabled")},disableArrowNext:function(){this._setElementState(this.arrowRight,"disabled")},disableArrowPrev:function(){this._setElementState(this.arrowLeft,"disabled")},show:function(){this._removeState("hidden")},hide:function(){this._setState("hidden")}},{getBlockName:function(){return"controls"}}))}),modules.define("spin",["y-block","inherit"],function(t,e,i){t(i(e,{__constructor:function(){this.__base.apply(this,arguments)},stop:function(){this._removeState("progressed")},start:function(){this._setState("progressed")}},{getBlockName:function(){return"spin"}}))}),modules.require(["jquery","y-block"],function(t,e){t(function(){e.initDomTree(window.document).done()})}),modules.define("chitalka-fb2",["chitalka","jquery","inherit","y-extend","y-debounce","unzip","chitalka-fb2-parser","storage","y-next-tick"],function(t,e,a,i,n,s,r,o,l,h){var c=a(window);t(i(e,{__constructor:function(){this.__base.apply(this,arguments),this._bookPlaceholder=this._findElement("bookholder"),this._title=this._findElement("title"),this._prepareBook()},_render:function(t){this._bookPlaceholder.html(t)},_setup:function(){this._bookPlaceholder.scrollLeft(0),this._setTitle(),this._afterDomAppending()},_setTitle:function(){var t,e,i,n,s=this._find(this._xml,"title");!s||0!==(t=[].slice.call(s.querySelectorAll("p"))).length&&(i=(e=t.map(function(t){return t.textContent})).join("&nbsp;&ndash;&nbsp;"),n=e.join(" - "),this._title.attr("title",n).html(i))},setFootnotesMode:function(t){this._setFootnotesMode(t),this._settings.save("footnotes",t),this._onBookChange()},setPageViewMode:function(t){this._setPageViewMode(t),this._settings.save("pages",t),this._onBookChange()},_setFootnotesMode:function(t){"inline"===t?(this._footnotesMode=t,this._setState("footnotes","inline")):(this._footnotesMode="appendix",this._removeState("footnotes"))},_setPageViewMode:function(t){"one"===t||"two"===t?this._setState("pages",t):this._removeState("pages")},getFootnotesMode:function(){return this._footnotesMode},getPageViewMode:function(){return this._getState("pages")},_afterDomAppending:function(){this._book=this._findElement("book"),this._images=this.getDomNode().find(".image"),this._bookDOM=this._book[0],this._settings.get("font-size")?this._setFontSize(this._settings.get("font-size")):(this._fontSize=parseInt(this._bookPlaceholder.css("font-size"),10),this._settings.save("font-size",this._fontSize)),this._annotations=this.getDomNode().find(".annotation"),this._subscribeToWindowEvents(),this._subscribeToLinksEvents(),this._setFootnotesMode(this._settings.get("footnotes")||this._getState("footnotes")||"appendix"),this._setPageViewMode(this._settings.get("pages")||this._getState("pages")||"auto"),this._storage=new l(this.getBookId()),h(function(){this._buildCFIs(),this._countSymbols(),this._calcDimensions(),this._restoreSavedPosition(),this.emit("ready")}.bind(this))},_buildSelectorByCfi:function(t){return'[data-4cfi="'+t+'"]'},_storePagePosition:s(function(){this._storage.save({page:this._currentPage,"4cfi":this._getKeeper().getAttribute("data-4cfi")})},500),_restoreSavedPosition:function(){var t,e;this._storage.get("page")&&(t=this._storage.get("page")),this._storage.get("4cfi")&&(e=this._buildSelectorByCfi(this._storage.get("4cfi")),0<a(e).size()?t=this._whatPageIsDOMElem(a(e)):this._storage.remove("cfi")),t?(this._currentPage=t,this._updateScrollPosition({noAnimation:!0,dontChangeFirstElement:!0})):this._currentPage=0},_calcDimensions:function(){this._gapWidth=parseInt(this._book.css("column-gap"),10),this._gaps=parseInt(this._book.css("column-count"),10),this._listBy=40===this._gapWidth?1:2,window.getComputedStyle?this._bookCanvasWidth=parseFloat(window.getComputedStyle(this._book[0]).width):this._bookCanvasWidth=this._book.width(),this._bookCanvasWidth/=this._gapWidth?1:2,this._bookCanvasHeight=this._book.height(),this._pageWidth=(this._bookCanvasWidth-this._gapWidth)/this._gaps,this._pageStepWidth=this._pageWidth+this._gapWidth,this._pageCount=this._getBookPages(),this._avgSymbolsOnPage=Math.round(this._totalBookSymbols/this._pageCount)},_onBookChange:function(){var t=this._pageCount;this._calcDimensions(),this._updateScrollPosition({noAnimation:!0,dontChangeFirstElement:!0}),t!==this._pageCount&&(this._currentPage=this._whatPageIsDOMElem(this._firstElementOnPage),this._updateScrollPosition({noAnimation:!0,dontChangeFirstElement:!0})),this._images.css("max-height",this._bookPlaceholder.height()+"px")},_subscribeToWindowEvents:function(){c.resize(this._onBookChange.bind(this))},_subscribeToLinksEvents:function(){this.getDomNode().on("click","a",function(t){var e=a(t.currentTarget),i=e.attr("href");if(/^#/.test(i))return"appendix"===this._footnotesMode&&this._moveToAnnotation(i.replace("#","")),!1;e.attr("target","_blank")}.bind(this))},_unsubscribeFromLinksEvents:function(){this.getDomNode().off("click","a")},_moveToAnnotation:function(e){var t=a.grep(this._annotations,function(t){return 0<a(t).find('a[name="'+e+'"]').size()});t&&(this._backPage=this._currentPage,this._currentPage=this._annotationPage=this._whatPageIsDOMElem(t),this._updateScrollPosition())},_getKeeper:function(t){var e=this._getElementsToPages(this._listBy,this._fontSize,this._bookCanvasHeight,this.getFootnotesMode()),i=t||this._currentPage,n=e[i];if(n&&n.length)return n[0];do{if((n=e[i--])&&n.length)return n[n.length-1]}while(0<=i);return e[0][0]},_getElementsToPages:function(t,e,i,n){return this._elementsToPages=this._elementsToPages||{},this._elementsToPages[t]||(this._elementsToPages[t]={}),this._elementsToPages[t][e]||(this._elementsToPages[t][e]={}),this._elementsToPages[t][e][i]||(this._elementsToPages[t][e][i]={}),this._elementsToPages[t][e][i][n]||this._buildElementsToPages(t,e,i,n),this._elementsToPages[t][e][i][n]},_buildElementsToPages:function(t,e,i,n){var s={};this._bookPlaceholder.find("*").map(function(t,e){var i=this._whatPageIsDOMElem(e);s[i]||(s[i]=[]),s[i].push(e)}.bind(this)),this._elementsToPages[t][e][i][n]=s},_buildCFIs:function(s,r){s=s||this._bookPlaceholder;var o=1;r=r||"/",a(s).contents().map(function(t,e){var i,n=r+o;3===e.nodeType?""!==a.trim(e.textContent)&&1<a(s).size()&&((i=a("<span></span>")).attr("data-4cfi",n),a(e).wrap(i),o++):(a(e).attr("data-4cfi",n),this._buildCFIs(e,n+"/"),o++)}.bind(this))},_countSymbols:function(){this._totalBookSymbols=a.trim(this._bookPlaceholder.get(0).textContent).replace(/\s{2,}/g," ").length},_measureReadingTime:function(){var t,e,i=Number(new Date);this._previousPaging&&(t=(i-this._previousPaging)/6e4,e=Math.floor(this._avgSymbolsOnPage*this._listBy/t),this._storeSpeed(e),this._checkSpeed()),this._previousPaging=i},moveBackFromAnnotation:function(){this._currentPage=this._backPage,this.resetBackPage(),this._updateScrollPosition()},resetBackPage:function(){this._backPage=null},_whatPageIsDOMElem:function(t){if(t){var e=a(t),i=e.is(":visible")&&-1===["fixed","absolute"].indexOf(e.css("position"))&&!e.is(".image__wrapper"),n=Number(e.position().left)/(this._pageWidth+this._gapWidth);return i?Math.floor((this._currentPage||0)+n):0}},nextPage:function(){this.isLastPage()||(this._measureReadingTime(),this._currentPage+=this._listBy,this._updateScrollPosition({isNextPage:!0}))},previousPage:function(){this.isFirstPage()||(this._currentPage===this._annotationPage&&this._backPage?this.moveBackFromAnnotation():(this._currentPage-=this._listBy,this._updateScrollPosition()))},firstPage:function(){this._currentPage=0,this._updateScrollPosition()},lastPage:function(){this._currentPage=this._pageCount-this._listBy,this._updateScrollPosition()},zoomIn:function(){this._updateFontSize(this._fontSize+2)},zoomOut:function(){this._updateFontSize(this._fontSize-2)},zoomReset:function(){this._resetFontSize()},_updateMaxMins:function(){var n=this._bookCanvasHeight,s=this._bookCanvasWidth;this._oldHeight!==n&&(this.elem("image").map(function(t,e){var i=a(e);i.find("img").css({"max-width":s+"px","max-height":n+"px"}),i.toggleClass("image-small",i.height()<n)}),this.elem("section").css({"min-height":n+"px"}),this._oldHeight=n)},getBackPage:function(){return this._backPage&&this._backPage+1||null},getCurrentPage:function(){return this._currentPage+1},getTotalPages:function(){return this._pageCount},getBookId:function(){return this._isbn=this._isbn||this._find(this._xml,"isbn")||this._find(this._xml,"id")||this._find(this._xml,"title")||"",this._isbn.textContent},getEstimatedTime:function(){var t=this.getTotalPages()*this._avgSymbolsOnPage-this.getCurrentPage()*this._avgSymbolsOnPage,e=Math.floor(t/this.getSpeed());return[Math.floor(e/60),e%60]},_updateScrollPosition:function(t){var e=t&&t.noAnimation,i=t&&t.dontChangeFirstElement;this.isLastPage()&&(this._currentPage=this._pageCount-this._listBy),this.isFirstPage()&&(this._currentPage=0);var n=this._pageStepWidth*this._currentPage;e||"undefined"==typeof TweenLite?(this._bookPlaceholder.scrollLeft(n),i||(this._firstElementOnPage=this._getKeeper())):TweenLite.to(this._bookPlaceholder,.25,{scrollTo:{x:n},ease:Power2.easeOut,onComplete:function(){i||(this._firstElementOnPage=this._getKeeper())}.bind(this)}),t&&t.isNextPage||(this._previousPaging=null),this.emit("page-changed"),this._storePagePosition()},_onChangeFontSize:function(){this._calcDimensions(),this._updateScrollPosition({noAnimation:!0,dontChangeFirstElement:!0}),this._currentPage=this._whatPageIsDOMElem(this._firstElementOnPage,!0),this._updateScrollPosition({noAnimation:!0,dontChangeFirstElement:!0})},_setFontSize:function(t){this._fontSize=t,this._bookPlaceholder.css("font-size",this._fontSize+"px")},_updateFontSize:function(t){this._fontSizeLimits[0]<=t&&this._fontSizeLimits[1]>=t&&(this.emit("reset-zoom-buttons"),this._settings.save("font-size",t),this._setFontSize(t),this._onChangeFontSize()),this._fontSizeLimits[1]<=t&&this.emit("disabled-zoom-in"),this._fontSizeLimits[0]>=t&&this.emit("disabled-zoom-out")},_resetFontSize:function(){this._fontSize=this._defaultFontSize,this._onChangeFontSize()},isFirstPage:function(){return this._currentPage<=0},isLastPage:function(){return this._currentPage>=this._pageCount-this._listBy},_getBookPages:function(){var t=this._bookDOM.scrollWidth;return Math.floor((t+this._gapWidth)/(Math.floor(this._pageWidth)+this._gapWidth))},_flush:function(){this._currentPage=null,this._isbn=null,this._elementsToPages={},this._unsubscribeFromLinksEvents()},_prepareBook:function(t){this._flush();var e=t||this._getOptions().url;return o.readFile(e,!!t).then(o.getXml).then(this._convertToHtml.bind(this)).then(this._render.bind(this)).then(this._setup.bind(this)).done(this._onBookChange.bind(this)).fail(this._fail.bind(this))},_fail:function(t){alert("Ошибка: "+t),this.emit("load-fail")},_find:function(t,e){return t.querySelector(e)},_convertToHtml:function(e){if(this._xml=e,this._xsl){var t=a.Deferred();return t.resolve(this._xsltTransform(e,this._xsl)),t.promise()}return a.ajax({dataType:"xml",url:(!(window.location.pathname.indexOf('/', 1) > 0) ? window.location.origin + '/' : window.location.origin + window.location.pathname) + "static/"+ "reader.xsl"}).then(function(t){return this._xsltTransform(e,t)}.bind(this))},_xsltTransform:function(t,e){var i,n;return this._xsl=e,window.ActiveXObject?i=t.transformNode(e):document.implementation&&document.implementation.createDocument&&((n=new XSLTProcessor).importStylesheet(e),i=n.transformToFragment(t,document)),i},_isAvailable:function(){return!!this._hasTechnologies("Blob","FileReader","ArrayBuffer","Uint8Array","XSLTProcessor","DataView")&&!(window.opera&&parseInt(window.opera.version(),10)<=12)},_hasTechnologies:function(){return-1===[].map.call(arguments,function(t){return void 0!==window[t]}).indexOf(!1)}},{getBlockName:function(){return"chitalka-fb2"}}))}),modules.define("chitalka-ui",["controls","y-block","jquery","y-extend","spin","file-drag","inherit"],function(t,e,i,n,s,r,o,a){t(a(i,{__constructor:function(){this.__base.apply(this,arguments)},init:function(t){return this._chitalka=t,this._bindTo(this._chitalka,"ready",this._onBookLoaded.bind(this)),this._getOptions().controls&&this._initControls(),this._getOptions().progress&&this._initProgress(),this._getOptions()["progress-bar"]&&this._initProgressBar(),this._getOptions().annotations&&this._initAnnotationsControl(),this._initEstimated(),this._initDragListeners(),this},_initControls:function(){this._controls=e.find(this.getDomNode()),this._getOptions().controls.arrows&&this._initArrows(),this._bindTo(this._chitalka,"ready",function(){this._getOptions().controls.zoom&&(this._controls.setFootnotesMode(this._chitalka.getFootnotesMode()),this._controls.setPageViewMode(this._chitalka.getPageViewMode()),this._initMenu())}.bind(this))},_initArrows:function(){this._bindTo(this._controls,"next-page",function(){this._chitalka.nextPage()}),this._bindTo(this._controls,"previous-page",function(){this._chitalka.previousPage()}),this._bindTo(this._chitalka,"page-changed",function(){this._updateArrows()})},_initMenu:function(){this._bindTo(this._controls,"zoom-in",function(){this._chitalka.zoomIn()}),this._bindTo(this._controls,"zoom-out",function(){this._chitalka.zoomOut()}),this._bindTo(this._controls,"footnotes-appendix",function(){this._chitalka.setFootnotesMode("appendix")}),this._bindTo(this._controls,"footnotes-inline",function(){this._chitalka.setFootnotesMode("inline")}),this._bindTo(this._controls,"pages-one",function(){this._chitalka.setPageViewMode("one"),this._setState("mode","one-page")}),this._bindTo(this._controls,"pages-two",function(){this._chitalka.setPageViewMode("two"),this._setState("mode","two-page")}),this._bindTo(this._controls,"pages-auto",function(){this._chitalka.setPageViewMode(),this._removeState("mode")}),this._bindTo(this._chitalka,"disabled-zoom-in",function(){this._controls.disableZoomIn()}),this._bindTo(this._chitalka,"disabled-zoom-out",function(){this._controls.disableZoomOut()}),this._bindTo(this._chitalka,"reset-zoom-buttons",function(){this._controls.resetZoomButtons()}),this._bindTo(this._chitalka,"load-fail",function(){this._noBook(),this._fileLoaded=!1}.bind(this))},_noBook:function(){this._setState("no-book"),r.find(this._findElement("loader")).stop()},_initDragListeners:function(){this._drag=new o(this.getDomNode()),this._bindTo(this._drag,"show-drag",this._showDrag.bind(this)),this._bindTo(this._drag,"hide-drag",this._hideDrag.bind(this)),this._bindTo(this._drag,"file-dropped",this._onFileDropped.bind(this)),this._bindTo(this._drag,"file-loaded",this._onFileLoaded.bind(this))},_showDrag:function(){this._setState("drag"),this._removeState("no-book"),this._controls.hide()},_hideDrag:function(){this._fileLoaded&&(this._removeState("drag"),this._controls.show())},_onFileDropped:function(){this._fileLoaded=!0,this.loading()},_onFileLoaded:function(t){this._chitalka._prepareBook(t.data).then(function(){this._removeState("drag"),this._controls.show()}.bind(this))},loading:function(){r.find(this._findElement("loader")).start(),this._setState("loading"),this._controls.hide()},_onBookLoaded:function(){this._fileLoaded=!0,r.find(this._findElement("loader")).stop(),this._removeState("loading"),this._controls.show()},_updateArrows:function(){this._controls.resetArrows(),this._chitalka.isFirstPage()&&this._controls.disableArrowPrev(),this._chitalka.isLastPage()&&this._controls.disableArrowNext()},_initProgress:function(){this._progress=this._findElement("progress"),this._bindTo(this._chitalka,"page-changed",this._updateProgress.bind(this)),this._bindTo(this._chitalka,"ready",this._updateProgress.bind(this))},_initEstimated:function(){this._estimated=this._findElement("estimated"),this._bindTo(this._chitalka,"page-changed",this._updateEstimated.bind(this)),this._bindTo(this._chitalka,"ready",this._updateEstimated.bind(this))},_updateEstimated:function(){var t=this._chitalka.getEstimatedTime(),e="До конца книги "+(t[0]?t[0]+" ч ":"")+t[1]+" м";this._estimated.html(e)},_updateProgress:function(){this._progress.html(this._chitalka.getCurrentPage()+" из "+this._chitalka.getTotalPages())},_initProgressBar:function(){this._progressBar=this._findElement("progress-bar"),this._bindTo(this._chitalka,"page-changed",function(){var t=this._getCurrentProgress()+"%";this._progressBar.width(t),this._progressBar.attr("title",t)})},_initAnnotationsControl:function(){this._backTo=this._findElement("back-to-page");var e=0;this._bindTo(this._chitalka,"page-changed",function(){var t=this._chitalka.getBackPage();t&&1!==e?e?e--:t?(this._setBackTo("Вернуться на страницу "+t),e=3):this._setBackTo():(this._setBackTo(),this._chitalka.resetBackPage(),e=0)}),this._bindTo(this._backTo,"click",function(){this._setBackTo(),this._chitalka.moveBackFromAnnotation(),e=0})},_setBackTo:function(t){t?(this._setElementState(this._backTo,"visible"),this._backTo.html(t)):this._removeElementState(this._backTo,"visible")},_getCurrentProgress:function(){return(this._chitalka.getCurrentPage()/this._chitalka.getTotalPages()*100).toFixed(2)}},{getBlockName:function(){return"chitalka-ui"}}))}),modules.define("bt",["y-i18n"],function(t,e){var i=function(){var t=0;function e(){this._lastMatchId=0,this._matchers={},this._defaultViews={},this._infiniteLoopDetection=!1,this.lib={},this._options={},this.utils={_side:"undefined"==typeof window?"s":"c",bt:this,getPosition:function(){var t=this.node;return"_content"===t.index?1:t.index+1},isFirst:function(){var t=this.node;return"_content"===t.index||0===t.index},isLast:function(){var t=this.node;return"_content"===t.index||t.index===t.arr.length-1},setTag:function(t){return this.ctx._tag=t,this},getTag:function(){return this.ctx._tag},setAttr:function(t,e){return(this.ctx._attrs||(this.ctx._attrs={}))[t]=e,this},getAttr:function(t){return this.ctx._attrs?this.ctx._attrs[t]:void 0},disableCssClassGeneration:function(){return this.ctx._disableCssGeneration=!0,this},enableCssClassGeneration:function(){return this.ctx._disableCssGeneration=!1,this},isCssClassGenerationEnabled:function(){return!Boolean(this.ctx._disableCssGeneration)},disableDataAttrGeneration:function(){return this.ctx._disableDataAttrGeneration=!0,this},enableDataAttrGeneration:function(){return this.ctx._disableDataAttrGeneration=!1,this},isDataAttrGenerationEnabled:function(){return!Boolean(this.ctx._disableDataAttrGeneration)},getState:function(t){return this.ctx._state?this.ctx._state[t]:void 0},setState:function(t,e){return(this.ctx._state||(this.ctx._state={}))[t]=1===arguments.length||e,this},getParam:function(t){return this.ctx[t]},getView:function(){return this.ctx.view},getBlockName:function(){return this.ctx.block},getElementName:function(){return this.ctx.elem},setContent:function(t){return this.ctx._content=t,this},getContent:function(){return this.ctx._content},getMixins:function(){return this.ctx.mixins},addMixin:function(t){return(this.ctx.mixins||(this.ctx.mixins=[])).push(t),this},enableAutoInit:function(){return!1!==this.ctx.autoInit&&(this.ctx.autoInit=!0),this},isAutoInitEnabled:function(){return Boolean(this.ctx.autoInit)},setInitOption:function(t,e){return(this.ctx._initOptions||(this.ctx._initOptions={}))[t]=e,this},getInitOption:function(t){return this.ctx._initOptions?this.ctx._initOptions[t]:void 0},generateId:function(){return"uniq"+this._side+t++},stop:function(){return this.ctx._stop=!0,this},applyTemplates:function(){var t=this.ctx,e=this.node,i=this.bt.processBtJson(this.ctx,this.ctx.block,!0);return i!==t&&(this.newCtx=i),this.ctx=t,this.node=e,this},getJson:function(){return this.newCtx||this.ctx},escape:function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}}}e.prototype={enableInfiniteLoopDetection:function(t){return this._infiniteLoopDetection=t,this},apply:function(t){return this.toHtml(this.processBtJson(t))},match:function(t,e){if(e.__id="__func"+this._lastMatchId++,Array.isArray(t))for(var i=0,n=t.length;i<n;i++)(this._matchers[t[i]]||(this._matchers[t[i]]=[])).unshift(e);else(this._matchers[t]||(this._matchers[t]=[])).unshift(e);return this},setDefaultView:function(t,e){return this._defaultViews[t]=e,this},processBtJson:function(t,e,i){var n,s,r,o,a,l,h,c,u=[t],f=[{json:t,arr:u,index:0,blockName:e}],p=this._matchers,d=!i,_=this._infiniteLoopDetection;function g(){this.ctx=null,this.newCtx=null}g.prototype=this.utils;for(var m=new g;n=f.shift();){if(s=n.json,r=n.blockName,o=n.blockView,Array.isArray(s))for(a=0,l=s.length;a<l;a++)!1!==(h=s[a])&&null!=h&&"object"==typeof h&&f.push({json:h,arr:s,index:a,blockName:r,blockView:o});else{var v,y,b=!1;if(s.elem?o=s.block&&s.block!==r?(r=s.block,s.view=s.view||this._defaultViews[r]):(r=s.block=s.block||r,s.view=s.view||o||this._defaultViews[r]):s.block&&(r=s.block,o=s.view=s.view||this._defaultViews[r]),s.block){if(_&&(s.__processCounter=(s.__processCounter||0)+1,100<s.__processCounter))throw new Error('Infinite loop detected at "'+s.block+(s.elem?"__"+s.elem:"")+'".');if(c=null,!s._stop){m.node=n;var w=(m.ctx=s).elem?"__"+s.elem:"",x=p[s.block+(s.view?"_"+s.view:"")+w];if(!x&&s.view&&(x=p[s.block+"_"+s.view.split("-")[0]+"*"+w]),x=x||p[s.block+"*"+w])for(a=0,l=x.length;a<l;a++){var T=x[a],P=T.__id;if(!s[P]){if(s[P]=!0,null!=(c=T(m))){s=c,n.json=s,n.blockName=r,n.blockView=o,f.push(n),b=!0;break}if(s._stop)break}}}}if(!b)if(Array.isArray(s))n.json=s,n.blockName=r,n.blockView=o,f.push(n);else if(d&&null!=(v=s._content))if(Array.isArray(v)){do{for(y=!1,a=0,l=v.length;a<l;a++)if(Array.isArray(v[a])){y=!0;break}y&&(s._content=v=v.concat.apply([],v))}while(y);for(a=0,l=v.length;a<l;a++)!1!==(h=v[a])&&null!=h&&"object"==typeof h&&f.push({json:h,arr:v,index:a,blockName:r,blockView:o})}else f.push({json:v,arr:s,index:"_content",blockName:r,blockView:o})}n.arr[n.index]=s}return u[0]},toHtml:function(t){var e,i,n;if(!1===t||null==t)return"";if("object"!=typeof t)return t;if(Array.isArray(t)){for(u="",e=0,i=t.length;e<i;e++)!1!==(n=t[e])&&null!=n&&(u+=this.toHtml(n));return u}var s,r,o=t._disableDataAttrGeneration||t.elem||!t.block?"":' data-block="'+t.block+'"';if(s=t._attrs)for(e in s){var a=s[e];!0===a?o+=" "+e:null!=a&&(o+=" "+e+'="'+_(s[e])+'"')}t._initOptions&&((r={}).options=t._initOptions);var l=t.mixins;l&&l.length&&((r=r||{}).mixins=l),r&&(o+=' data-options="'+_(JSON.stringify(r))+'"');var h,c=t._tag||"div",u="<"+c;if(!t._disableCssGeneration){u+=' class="',u+=t.block+(t.view?"_"+t.view:"")+(t.elem?"__"+t.elem:"");var f=t._state;if(f)for(e in f){var p=f[e];null!=p&&""!==p&&!1!==p&&(u+=!0===p?" _"+e:" _"+e+"_"+p)}(t.autoInit||l&&0<l.length)&&(u+=" _init"),u+='"'}if(u+=o,d[c])u+="/>";else{if(u+=">",null!=(h=t._content))if(Array.isArray(h))for(e=0,i=h.length;e<i;e++)!1!==(n=h[e])&&null!=n&&(u+=this.toHtml(n));else u+=this.toHtml(h);u+="</"+c+">"}return u}};var d={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1},_=function(t){return~(t+="").indexOf("&")&&(t=t.replace(/&/g,"&amp;")),~t.indexOf('"')&&(t=t.replace(/"/g,"&quot;")),t};return e}();"undefined"!=typeof module&&(module.exports=i);var n,s=new i;s.lib.i18n=e,s.lib.global=s.lib.global||{},s.lib.global.lang=s.lib.global.lang||"ru",s.lib.global.tld=s.lib.global.tld||"ru",s.lib.global["content-region"]=s.lib.global["content-region"]||"ru",s.lib.global["click-host"]=s.lib.global["click-host"]||"//clck.yandex.ru",s.lib.global["passport-host"]=s.lib.global["passport-host"]||"https://passport.yandex.ru",s.lib.global["pass-host"]=s.lib.global["pass-host"]||"//pass.yandex.ru",s.lib.global["social-host"]=s.lib.global["social-host"]||"//social.yandex.ru",s.lib.global["export-host"]=s.lib.global["export-host"]||"//export.yandex.ru",s.lib.global.setTld=function(t){var e="tr"===t?"yandex.com.tr":"yandex."+t,i=-1!==["ua","by","kz"].indexOf(t)?"yandex.ru":e,n=s.lib.global;n["content-region"]=t,n["click-host"]="//clck."+i,n["passport-host"]="https://passport."+i,n["pass-host"]="//pass."+e,n["social-host"]="//social."+e,n["export-host"]="//export."+e,n.tld=t},s.lib.global.getTld=function(){return s.lib.global.tld},s.lib.i18n&&s.lib.i18n.getLanguage&&("uk"===(n=s.lib.i18n.getLanguage())&&(n="ua"),s.lib.global.setTld(n)),s.match("y-ua",function(t){t.setTag("script"),t.disableCssClassGeneration(),t.disableDataAttrGeneration(),t.setContent([';(function (d,e,c,r){e=d.documentElement;c="className";r="replace";e[c]=e[c][r]("y-ua_js_no","y-ua_js_yes");if(d.compatMode!="CSS1Compat")e[c]=e[c][r]("y-ua_css_standart","y-ua_css_quirks")})(document);;(function (d,e,c,r,n,w,v,f){e=d.documentElement;c="className";r="replace";n="createElementNS";f="firstChild";w="http://www.w3.org/2000/svg";e[c]+=!!d[n]&&!!d[n](w,"svg").createSVGRect?" y-ua_svg_yes":" y-ua_svg_no";v=d.createElement("div");v.innerHTML="<svg/>";e[c]+=(v[f]&&v[f].namespaceURI)==w?" y-ua_inlinesvg_yes":" y-ua_inlinesvg_no";})(document);'])}),s.setDefaultView("controls","default"),s.match("controls*",function(t){var e=[];t.enableAutoInit();var i=t.getParam("arrows")||!1,n=t.getParam("zoom")||!1,s=t.getParam("footnotes")||!1,r=t.getParam("pages")||!1;t.setInitOption("zoom",n),t.setInitOption("footnotes",s),t.setInitOption("pages",r),t.setState("hidden"),i&&(t.setInitOption("arrows",i),e.push([{elem:"arrow-left",disabled:!0},{elem:"arrow-right"}])),(n||s||r)&&e.push({elem:"menu",zoom:n,footnotes:s,pages:r}),t.setContent(e)}),s.match("controls*__menu",function(t){t.setState("state","closed"),t.setContent([{elem:"trigger"},{elem:"buttons",zoom:t.getParam("zoom"),footnotes:t.getParam("footnotes"),pages:t.getParam("pages")}])}),s.match(["controls*__arrow-left","controls*__arrow-right"],function(t){t.getParam("disabled")&&t.setState("disabled"),t.setContent({elem:"arrow-inner"})}),s.match("controls*__buttons",function(t){var e=[],i=0;t.getParam("zoom")&&(i+=2,e.push({elem:"plus",alt:"Увеличить размер шрифта"},{elem:"minus",alt:"Уменьшить размер шрифта"})),t.getParam("footnotes")&&(i+=1,e.push({elem:"footnotes",footnotes:t.getParam("footnotes")})),t.getParam("pages")&&(i+=1,e.push({elem:"pages",pages:t.getParam("pages")})),t.setAttr("style","height: "+42*i+"px"),t.setContent(e)}),s.match("controls*__footnotes",function(t){t.setState("mode",t.getParam("footnotes")||"appendix"),t.setAttr("title","Изменить режим отображения сносок"),t.setContent([{elem:"footnotes-anchor"},{elem:"footnotes-footnote"}])}),s.match("controls*__footnotes-anchor",function(t){t.setTag("span"),t.setContent("x")}),s.match("controls*__footnotes-footnote",function(t){t.setTag("span"),t.setContent("[x]")}),s.match("controls*__pages",function(t){t.setState("mode",t.getParam("pages")||"auto"),t.setAttr("title","Изменить режим отображения страниц"),t.setContent([{elem:"pages-one"},{elem:"pages-two"}])}),s.match(["controls*__plus","controls*__minus"],function(t){t.setAttr("title",t.getParam("alt"))}),s.setDefaultView("spin","default"),s.match("spin_default*",function(t){t.setState("progressed")}),s.setDefaultView("y-page","islet"),s.match("y-page_islet*",function(t){var e,i=t.getParam("styles");return i&&(e=i.map(function(t){return{elem:"css",url:t.url,ie:t.ie}})),[t.getParam("doctype")||"<!DOCTYPE html>",{elem:"html",content:[{elem:"head",content:[[{elem:"meta",charset:"utf-8"},!1!==t.getParam("x-ua-compatible")&&{elem:"meta","http-equiv":"X-UA-Compatible",content:t.getParam("x-ua-compatible")||"IE=edge"},{elem:"title",content:t.getParam("title")},t.getParam("favicon")?{elem:"favicon",url:t.getParam("favicon")}:"",{block:"y-ua"}],e,t.getParam("head")]},t.getJson()]}]}),s.match("y-page_islet*",function(t){t.setTag("body"),t.enableAutoInit();var e,i,n=t.getParam("scripts");n&&(e=s.lib.global,i=n.map(function(t){return{elem:"js",url:t.url?t.url.replace("{lang}",e.lang):void 0,source:t.source}})),t.setContent([t.getParam("body"),i])}),s.match("y-page_islet*__title",function(t){t.disableCssClassGeneration(),t.setTag("title"),t.setContent(t.getParam("content"))}),s.match("y-page_islet*__html",function(t){t.setTag("html"),t.disableCssClassGeneration(),t.setAttr("class","y-ua_js_no y-ua_css_standard"),t.setContent(t.getParam("content"))}),s.match("y-page_islet*__head",function(t){t.setTag("head"),t.disableCssClassGeneration(),t.setContent(t.getParam("content"))}),s.match("y-page_islet*__meta",function(t){t.setTag("meta"),t.disableCssClassGeneration(),t.setAttr("content",t.getParam("content")),t.setAttr("http-equiv",t.getParam("http-equiv")),t.setAttr("charset",t.getParam("charset"))}),s.match("y-page_islet*__favicon",function(t){t.disableCssClassGeneration(),t.setTag("link"),t.setAttr("rel","shortcut icon"),t.setAttr("href",t.getParam("url"))}),s.match("y-page_islet*__js",function(t){t.disableCssClassGeneration(),t.setTag("script");var e=t.getParam("url");e&&t.setAttr("src",e);var i=t.getParam("source");i&&t.setContent(i),t.setAttr("type","text/javascript")}),s.match("y-page_islet*__css",function(t){t.disableCssClassGeneration();var e=t.getParam("url");e?(t.setTag("link"),t.setAttr("rel","stylesheet"),t.setAttr("href",e)):t.setTag("style");var i=t.getParam("ie");if(void 0!==i)return!0===i?["\x3c!--[if IE]>",t.getJson(),"<![endif]--\x3e"]:!1===i?["\x3c!--[if !IE]> --\x3e",t.getJson(),"\x3c!-- <![endif]--\x3e"]:["\x3c!--[if "+i+"]>",t.getJson(),"<![endif]--\x3e"]}),s.setDefaultView("chitalka-fb2","default"),s.match("chitalka-fb2*",function(t){t.setInitOption("keyboard",!0),t.setInitOption("touch",!0),t.setInitOption("url",t.getParam("url")),t.enableAutoInit();var e=t.getParam("footnotes")||!1;e&&t.setState("footnotes",e);var i=t.getParam("pages")||!1;i&&t.setState("pages",i);var n=[{elem:"title"},{elem:"bookholder"}];t.getParam("ui")&&(t.setInitOption("ui",!0),n.push({elem:"ui",content:t.getParam("ui")})),t.setContent(n)}),s.match("chitalka-fb2*__ui",function(t){t.setContent(t.getParam("content"))}),s.match("chitalka-ui",function(t){t.enableAutoInit();var e,i=[];t.getParam("controls")&&(e=t.getParam("controls"),t.setInitOption("controls",e),t.getParam("book")&&(t.getParam("book").footnotes&&(e.footnotes=t.getParam("book").footnotes),t.getParam("book").pages&&(e.pages=t.getParam("book").pages)),e.block="controls",i.push({elem:"controls",content:e})),i.push({elem:"book",content:t.getParam("book")}),t.getParam("progress")&&(t.setInitOption("progress",!0),i.push({elem:"progress"})),t.getParam("progress_bar")&&(t.setInitOption("progress-bar",!0),i.push({elem:"progress-bar"})),t.getParam("annotations")&&(t.setInitOption("annotations",!0),i.push({elem:"back-to-page"})),i.push({elem:"estimated"}),t.setState("loading"),i.push({elem:"loader"}),t.setContent(i)}),s.match("chitalka-ui*__loader",function(t){t.setContent({block:"spin",view:"default-large"})}),s.match(["chitalka-ui*__controls","chitalka-ui*__book"],function(t){t.setContent(t.getParam("content"))}),t(s)}),function(){function i(t){var r;return t&&"function"==typeof t||((r=function(t,e,i){var n=r._keysets[t];if(!n)throw new Error('Keyset "'+t+'" was not found.');var s=n[e];if(void 0===s)throw new Error('Key "'+e+'" in keyset "'+t+'" was not found.');return"function"==typeof s?s(i||{}):s})._keysets={},r._language="ru",r.add=function(t,e){return r._keysets[t]=e,r},r.setLanguage=function(t){return this._language=t,this},r.getLanguage=function(){return this._language},r.utils={plural:function(t){var e=t.count,i=t.one,n=t.some,s=t.many;void 0===s?s=n:void 0===n&&(n=s);var r=e%10,o=e%100;return 1==r&&11!=o?i:1<r&&r<5&&(o<10||20<o)?n:s},include:function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&"key"!==i&&"keyset"!==i&&(e[i]=t[i]);return r(t.keyset,t.key,e)}},t=r),t.setLanguage("ru"),t}"undefined"!=typeof modules?modules.define("y-i18n",function(t,e){t(i(e))}):"undefined"!=typeof module?module.exports=function(){return i()}:"undefined"!=typeof window?window.i18n=i():i18n=i()}();
